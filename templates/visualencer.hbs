{{!-- ========== PARTIALS COMUNES ========== --}}

{{#*inline "v-fade-direction"}}

<div class="v-field">
    <label>{{label}} <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration</strong></p>
        <input type="number" data-config="{{durKey}}" data-type="number" value="{{lookup config durKey}}">
    </label>

</div>
<div class="v-field">
    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p><select data-config="ease">
            <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear</option>
            <option value="easeInSine" {{#if (eq node.config.ease "easeInSine" )}}selected{{/if}}>easeInSine</option>
            <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine" )}}selected{{/if}}>easeOutSine</option>
            <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine" )}}selected{{/if}}>easeInOutSine
            </option>
            <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad" )}}selected{{/if}}>easeInQuad</option>
            <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad" )}}selected{{/if}}>easeOutQuad</option>
            <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad" )}}selected{{/if}}>easeInOutQuad
            </option>
            <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic" )}}selected{{/if}}>easeInCubic</option>
            <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic" )}}selected{{/if}}>easeOutCubic
            </option>
            <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic" )}}selected{{/if}}>easeInOutCubic
            </option>
            <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart" )}}selected{{/if}}>easeInQuart</option>
            <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart" )}}selected{{/if}}>easeOutQuart
            </option>
            <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart" )}}selected{{/if}}>easeInOutQuart
            </option>
            <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint" )}}selected{{/if}}>easeInQuint</option>
            <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint" )}}selected{{/if}}>easeOutQuint
            </option>
            <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint" )}}selected{{/if}}>easeInOutQuint
            </option>
            <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo" )}}selected{{/if}}>easeInExpo</option>
            <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo" )}}selected{{/if}}>easeOutExpo</option>
            <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo" )}}selected{{/if}}>easeInOutExpo
            </option>
            <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc" )}}selected{{/if}}>easeInCirc</option>
            <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc" )}}selected{{/if}}>easeOutCirc</option>
            <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc" )}}selected{{/if}}>easeInOutCirc
            </option>
            <option value="easeInBack" {{#if (eq node.config.ease "easeInBack" )}}selected{{/if}}>easeInBack</option>
            <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack" )}}selected{{/if}}>easeOutBack</option>
            <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack" )}}selected{{/if}}>easeInOutBack
            </option>
            <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic" )}}selected{{/if}}>easeInElastic
            </option>
            <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic" )}}selected{{/if}}>easeOutElastic
            </option>
            <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic" )}}selected{{/if}}>
                easeInOutElastic</option>
            <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce" )}}selected{{/if}}>easeInBounce
            </option>
            <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce" )}}selected{{/if}}>easeOutBounce
            </option>
            <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce" )}}selected{{/if}}>
                easeInOutBounce</option>
        </select>
    </label>
</div>
<div class="v-field">
    <label>{{label}} <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay</strong></p>
        <input type="number" data-config="{{delayKey}}" data-type="number" value="{{lookup config delayKey}}">
    </label>
</div>
{{/inline}}

<div class="visualencer">
    <header class="v-toolbar">
        <label>
            <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Type</strong></p>
            <select class="v-add-type">
                {{#each nodeTypes as |nt|}}
                <option value="{{nt.type}}">{{nt.label}}</option>
                {{/each}}
            </select>
        </label>
        <button type="button" class="v-add-node">
            <i class="fas fa-plus"></i> Add node
        </button>

        <button type="button" class="v-compile">
            <i class="fas fa-file-export"></i> Export to macro
        </button>
    </header>

    <section class="visualencer-canvas">

        {{!-- Capa de conexiones (SVG) --}}
        <svg class="v-connections"></svg>

        {{!-- Contenedor interno paneable --}}
        <div class="v-canvas-inner" style="transform: translate({{panX}}px, {{panY}}px) scale({{zoom}});">

            {{#each graph.nodes as |node nodeId|}}
            <div class="v-node" data-node-id="{{nodeId}}" style="left: {{node.x}}px; top: {{node.y}}px;">
                <div class="v-node-header">
                    <span class="v-node-title">{{node.type}}</span>
                    <a class="v-node-delete"><i class="fas fa-times"></i></a>
                </div>

                <div class="v-node-ports">
                    <div class="v-port v-port-in" data-port="in" title="Entrada"></div>
                    <div class="v-port v-port-out" data-port="out" title="Salida"></div>
                </div>

                <div class="v-node-body">
                    {{!-- START --}}
                    {{#if (eq node.type "start")}}
                    <fieldset class="v-group">
                        <legend>Start</legend>
                    </fieldset>
                    <p>Sequencer start node.</p>
                    {{/if}}

                    {{!-- EFFECT (root) --}}
                    {{#if (eq node.type "effect")}}
                    <fieldset class="v-group">
                        <legend>Effect</legend>
                        <h3 style="color:white;"><span>What is this?</span></h3>
                        <p>This part of the Sequencer allows you to easily play visual effects on the canvas, such as
                            animated .gifs, .webms, and other static images as moving effects and projectiles.</p>
                        <h3 style="color:white;"><span>How do I use this?</span></h3>
                        <p>When creating an effect section, you can assemble these methods like this:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">

<span style="color:#89ddff;">Start / Sequence</span> <span style="color:#f07178;">→</span>
<span style="color:#89ddff;">effect</span> (Example <span style="color:#ffcb6b;">"modules/jb2a_patreon/Library/Generic/Healing/HealingAbility_01_Blue_200x200.webm"</span> or <span style="color:#ffcb6b;">"jb2a.fire_bolt.orange"</span>) <span style="color:#f07178;">→</span>
<span style="color:#89ddff;">At Location</span> (<span style="color:#ffcb6b;">token selected</span>) <span style="color:#f07178;">→</span>
<span style="color:#89ddff;">Fade</span> (Example <span style="color:#ffcb6b;">Fade In: duration: 500, ease: easeOutQuint</span> | <span style="color:#ffcb6b;">Fade Out: duration: 250, ease: easeOutCirc</span>) <span style="color:#f07178;">→</span>
<span style="color:#89ddff;">play</span>
</code></pre>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>File</strong></p>
<pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#89ddff;">File</span> (<span style="color:#ffcb6b;">inFilePath = string|array&lt;string&gt;</span>)</code></pre>
<ul><li>Filepath <code>Audio/Soundly_Assets/Combat/Blade/Miss1.wav</code></li><li>Wildcard filepath: <code>Audio/NeverWinter_Assets/Effects/Magic/Ice/\*.wav</code></li><li>Database Path: <code>EffectAudioDB.Blade.hit</code></li></ul>
<p>Visualencer Note: For traditional users, there is no need to type the quotation marks, the module automatically places them.</p>
<p>Declares which sound to be played, but you can also do that when first initializing the sound with <code>.sound("file/path/here.wav")</code></p>
<p>This may also be an array of paths, which will be randomly picked from each time the sound is played.</p>
<p>If the path is a filepath, it may also contain a wildcard, which will cause the Sound to pick randomly between matching filepaths.</p>
<p>In addition, if the sound has been registered on the <a href="https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki/Sequencer-Database" target="_blank" rel="noopener">Sequencer database</a>, you can reference database files with a dot-notation like so: <code>your_module_name.sounds.generic.explosions</code></p>
<p>We recommend users and creators alike read the documentation on the <a href="https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki/Sequencer-Database" target="_blank" rel="noopener">Sequencer database</a>.</p>
<input type="text" data-config="file" value="{{node.config.file}}">
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- AT LOCATION (child) --}}
                    {{#if (eq node.type "atLocation")}}
                    <fieldset class="v-group">
                        <legend>At Location</legend>
                        <pre v-pre="" data-lang="js"
                            class="language-js"><code class="lang-js language-js">

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">atLocation</span> (<span style="color:#ffcb6b">token selected</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">atLocation</span> (<span style="color:#ffcb6b">token target</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">atLocation</span> (<span style="color:#ffcb6b">"tokenID"</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">atLocation</span> (<span style="color:#ffcb6b">"tokenName"</span>) ///</code></pre>
<p>A smart method that can take:</p>
<ul>
<li>Reference to a token</li>
<li>Reference to a template</li>
<li>Direct coordinate on the canvas</li>
<li>String reference (see <code>Name node</code></a>)</li>
</ul>
<p>Note that <code>Sounds</code> are only supported in v12</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
<select data-config="mode">
<option value="selected-token" {{#if (eq node.config.mode "selected-token"
                                        )}}selected{{/if}}>
Token selected
</option>
<option value="selected-target" {{#if (eq node.config.mode "selected-target"
                                        )}}selected{{/if}}>
Token target
</option>
<option value="token-id" {{#if (eq node.config.mode "token-id" )}}selected{{/if}}>
Token ID
</option>
<option value="token-name" {{#if (eq node.config.mode "token-name"
                                        )}}selected{{/if}}>
Token by name
</option>
<option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>
Tile by ID
</option>
<option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}>
Point (x,y)
</option>
</select>
</label>
</div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                                <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token name</strong></p>
                                <input type="text" data-config="tokenName" value="{{node.config.tokenName}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                                <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinates (X)</strong></p>
                                <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinates (Y)</strong></p>
                                <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                            </label>
                        </div>

                        <hr>
                        <p>Also supports a second options object that accepts:</p>
                        <ul>
                            <li>
                                <code>Offset node</code> (default <code> x: 0, y: 0 </code>) - causes the location to be
                                offset by a set amount
                            </li>
                        </ul>

                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random Offset</strong></p>
                                <input type="number" data-config="randomOffset" data-type="number"
                                    value="{{node.config.randomOffset}}">
                                <p><code>number|boolean</code> - causes the location to be offset by a random amount -
                                    if given a number, this acts as a multiplier for the randomness, using the size of
                                    the object (or a single grid square/hex) as the multiplier.</p>
                            </label>
                        </div>

                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Cache Location</strong>
                                <input type="checkbox" data-config="cacheLocation" data-type="boolean" {{#if
                                    node.config.cacheLocation}}checked{{/if}}></p>
                                <p><code>boolean</code> - causes the given object’s location to be cached immediately
                                    rather than retrieved during the Sequence’s runtime</p>
                            </label>
                        </div>

                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Locally</strong>
                                <input type="checkbox" data-config="local" data-type="boolean" {{#if
                                    node.config.local}}checked{{/if}}></p>
                                <p><code>boolean</code> - Used with <code>offset</code> to cause the location to be
                                    offset locally to the effect’s rotation</p>
                            </label>
                        </div>

                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Units</strong>
                                <input type="checkbox" data-config="gridUnits" data-type="boolean" {{#if
                                    node.config.gridUnits}}checked{{/if}}>
                                    </p>
                                <p><code>boolean</code> - Used with <code>Offset Node</code> (obligatory) to make each
                                    whole number represent in <code>x</code> and <code>y</code> to represent the
                                    effect’s scene’s grid size.</p>

                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- WAIT UNTIL FINISHED (child) --}}
                    {{#if (eq node.type "waitUntilFinished")}}
                    <fieldset class="v-group">
                        <legend>Wait Until Finished</legend>
                        <p>Calling this method will cause the effect to finish running before starting the next section.
                        </p>
                        <p>Passing a number as a parameter will cause the effect to wait for the given number (in ms)
                            after finishing playing before continuing to the next section.</p>
                        <p>If given a negative number, the Sequencer will continue to the next section early but
                            continue playing the effect.</p>
                        <p>Passing a second number will randomize the wait duration between the two given numbers.</p>
                    </fieldset>
                    {{/if}}

                    {{!-- ASYNC (child) --}}
                    {{#if (eq node.type "async")}}
                    <fieldset class="v-group">
                        <legend>Async</legend>
                        <p><code>.async()</code></p>
                        <p>Calling this will make each part of the effect finish playing before the next one starts
                            playing.</p>
                        <p>This differs from the <code>Wait Until Finished node</code> in the sense that the
                            <code>Async node</code> is for each repetition (see <code>Repeats node</code>), whilst
                            <code>Wait Until Finished node</code> is for the entire effect.</p>
                    </fieldset>
                    {{/if}}

                    {{!-- REPEATS (child) --}}
                    {{#if (eq node.type "repeats")}}
                    <fieldset class="v-group">
                        <legend>Repeats</legend>
                        <p><code>.repeats(inRepetitions, inRepeatDelayMin, inRepeatDelayMax)</code></p>
                        <p>Causes the effect to be repeated <code>inRepetitions</code> times, with an optional delay.
                        </p>
                        <p>As an option, you can give it <code>inRepeatDelayMin</code> for a static delay between
                            repetitions, or <code>inRepeatDelayMin</code> and <code>inRepeatDelayMax</code> for a random
                            delay between each call.</p>
                        <p>It is highly recommended that you do not load too many files at the same time, as Foundry
                            might not be able to load all of them.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Number of repetitions</strong></p>
                                <input type="number" min="1" data-config="repeats" data-type="number"
                                    value="{{node.config.repeats}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Minimum repeatition delay</strong></p>
                                <input type="number" data-config="repeatDelayMin" data-type="number"
                                    value="{{node.config.repeatDelayMin}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>MAximum delay repetition</strong></p>
                                <input type="number" data-config="repeatDelayMax" data-type="number"
                                    value="{{node.config.repeatDelayMax}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- DELAY (child) --}}
                    {{#if (eq node.type "delay")}}
                    <fieldset class="v-group">
                        <legend>Delay</legend>
                        <p><code>.delay(1000)</code> or <code>.delay(500, 1000)</code></p>
                        <p>This will delay the effect from being played for a set amount of milliseconds. If given a
                            second number, a random delay between the two numbers will be generated.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Minimum Delay (ms)</strong></p>
                                <input type="number" data-config="delayMin" data-type="number"
                                    value="{{node.config.delayMin}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Maximum delay (ms)</strong></p>
                                <input type="number" data-config="delayMax" data-type="number"
                                    value="{{node.config.delayMax}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- OPACITY (child) --}}
                    {{#if (eq node.type "opacity")}}
                    <fieldset class="v-group">
                        <legend>Opacity</legend>
                        <p><code>.opacity(0.5)</code></p>
                        <p>Sets the opacity of the effect. If used with the <code>Fade node</code>, this defines what it
                            will fade to/from.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Opacity (0-1)</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="opacity"
                                    data-type="number" value="{{node.config.opacity}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- DURATION (child) --}}
                    {{#if (eq node.type "duration")}}
                    <fieldset class="v-group">
                        <legend>Duration</legend>
                        <p>Sets the duration in ms of the effect. If the duration is longer than the effect’s original
                            duration, it will loop.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                                <input type="number" data-config="duration" data-type="number"
                                    value="{{node.config.duration}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- ON (child) --}}
                    {{#if (eq node.type "on")}}
                    <fieldset class="v-group">
                        <legend>On</legend>
                        <p><code>.on(inToken)</code> or <code>.on(inTile)</code></p>
                        <p>Sets the target object to be animated. Accepts a token or a tile.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                                <select data-config="mode">
                                    <option value="inToken" {{#if (eq node.config.mode "inToken" )}}selected{{/if}}>
                                        On Token</option>
                                    <option value="inTile" {{#if (eq node.config.mode "inTile" )}}selected{{/if}}>On Tile
                                    </option>
                                    <option value="token-id" {{#if (eq node.config.mode "token-id" )}}selected{{/if}}>
                                        On Token ID</option>
                                    <option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>On Tile
                                        ID</option>
                                    <option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}>On Point
                                        (x,y)</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                                <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                                <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- MOVE TOWARDS (child) --}}
                    {{#if (eq node.type "moveTowards")}}
                    <fieldset class="v-group">
                        <legend>Move Towards</legend>
                        <p><code>.moveTowards(inToken)</code> or <code>.moveTowards(inTile)</code> or
                            <code>.moveTowards({ x: 0, y: 0 })</code></p>
                        <p>Sets the location to move the target object to over the course of the duration.</p>
                        <p>If no duration has been set, the target object will move towards the location at the default
                            foundry speed.</p>
                        <p>A second options parameter can set the ease of the movement, the delay before it starts, and
                            whether the object should be centered on the given location.</p>
                        <p><strong>Note:</strong> The <code>ease</code> parameter <em>not</em> supported for tokens due
                            to Foundry removing support for it.</p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0, relativeToCenter: false }</code></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                                <select data-config="mode">
                                    <option value="inToken" {{#if (eq node.config.mode "inToken" )}}selected{{/if}}>
                                        inToken</option>
                                    <option value="inTile" {{#if (eq node.config.mode "inTile" )}}selected{{/if}}>inTile
                                    </option>
                                    <option value="token-id" {{#if (eq node.config.mode "token-id" )}}selected{{/if}}>
                                        Token ID</option>
                                    <option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>Tile
                                        ID</option>
                                    <option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}> Point
                                        (x,y)</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                                <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                                <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Point Coordinate X</strong></p>
                                <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Point Coordinate Y</strong></p>
                                <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p>
                                <p>Check out what easings are available here: <a href="https://easings.net/"
                                        target="_blank" rel="noopener">https://easings.net/</a></p><select
                                    data-config="ease">
                                    <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear
                                    </option>
                                    <option value="easeInSine" {{#if (eq node.config.ease "easeInSine"
                                        )}}selected{{/if}}>easeInSine</option>
                                    <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine"
                                        )}}selected{{/if}}>easeOutSine</option>
                                    <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine"
                                        )}}selected{{/if}}>easeInOutSine</option>
                                    <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad"
                                        )}}selected{{/if}}>easeInQuad</option>
                                    <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad"
                                        )}}selected{{/if}}>easeOutQuad</option>
                                    <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad"
                                        )}}selected{{/if}}>easeInOutQuad</option>
                                    <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic"
                                        )}}selected{{/if}}>easeInCubic</option>
                                    <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic"
                                        )}}selected{{/if}}>easeOutCubic</option>
                                    <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic"
                                        )}}selected{{/if}}>easeInOutCubic</option>
                                    <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart"
                                        )}}selected{{/if}}>easeInQuart</option>
                                    <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart"
                                        )}}selected{{/if}}>easeOutQuart</option>
                                    <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart"
                                        )}}selected{{/if}}>easeInOutQuart</option>
                                    <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint"
                                        )}}selected{{/if}}>easeInQuint</option>
                                    <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint"
                                        )}}selected{{/if}}>easeOutQuint</option>
                                    <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint"
                                        )}}selected{{/if}}>easeInOutQuint</option>
                                    <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo"
                                        )}}selected{{/if}}>easeInExpo</option>
                                    <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo"
                                        )}}selected{{/if}}>easeOutExpo</option>
                                    <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo"
                                        )}}selected{{/if}}>easeInOutExpo</option>
                                    <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc"
                                        )}}selected{{/if}}>easeInCirc</option>
                                    <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc"
                                        )}}selected{{/if}}>easeOutCirc</option>
                                    <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc"
                                        )}}selected{{/if}}>easeInOutCirc</option>
                                    <option value="easeInBack" {{#if (eq node.config.ease "easeInBack"
                                        )}}selected{{/if}}>easeInBack</option>
                                    <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack"
                                        )}}selected{{/if}}>easeOutBack</option>
                                    <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack"
                                        )}}selected{{/if}}>easeInOutBack</option>
                                    <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic"
                                        )}}selected{{/if}}>easeInElastic</option>
                                    <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic"
                                        )}}selected{{/if}}>easeOutElastic</option>
                                    <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic"
                                        )}}selected{{/if}}>easeInOutElastic</option>
                                    <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce"
                                        )}}selected{{/if}}>easeInBounce</option>
                                    <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce"
                                        )}}selected{{/if}}>easeOutBounce</option>
                                    <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce"
                                        )}}selected{{/if}}>easeInOutBounce</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                                <input type="number" data-config="delay" data-type="number"
                                    value="{{node.config.delay}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Relative to Center</strong>
                                <input type="checkbox" data-config="relativeToCenter" data-type="boolean" {{#if
                                    node.config.relativeToCenter}}checked{{/if}}></p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- MOVE SPEED (child) --}}
                    {{#if (eq node.type "moveSpeed")}}
                    <fieldset class="v-group">
                        <legend>Move Speed</legend>
                        <p><code>.moveSpeed(500)</code></p>
                        <p>Sets the speed of the animation if <code>Move Towards node</code> has been called</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Move Speed</strong></p>
                                <input type="number" data-config="moveSpeed" data-type="number"
                                    value="{{node.config.moveSpeed}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- ROTATE TOWARDS (child) --}}
                    {{#if (eq node.type "rotateTowards")}}
                    <fieldset class="v-group">
                        <legend>Rotate Towards</legend>
                        <p><code>.rotateTowards(target, options)</code></p>
                        <p><code>.rotateTowards(inToken)</code> or <code>.rotateTowards(inTile)</code> or
                            <code>.rotateTowards({ x: 0, y: 0 })</code></p>
                        <p>Causes the target object to rotate towards a given target.</p>
                        <p>Default parameters:
                            <code>{ duration: 0, ease: "linear", delay: 0, rotationOffset: 0, towardsCenter: true, cacheLocation: false,}</code>
                        </p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                                <select data-config="mode">
                                    <option value="inToken" {{#if (eq node.config.mode "inToken" )}}selected{{/if}}>
                                        inToken</option>
                                    <option value="inTile" {{#if (eq node.config.mode "inTile" )}}selected{{/if}}>inTile
                                    </option>
                                    <option value="token-id" {{#if (eq node.config.mode "token-id" )}}selected{{/if}}>
                                        Token ID</option>
                                    <option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>Tile
                                        ID</option>
                                    <option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}> Point
                                        (x,y)</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                                <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                                <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinate X</strong></p>
                                <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinate Y</strong></p>
                                <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                            </label>
                        </div>

                        <hr>

                        <p>A second options parameter can set the duration of the rotation (0 is instant), the ease, the
                            delay before it starts, and any given rotation offset.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                                <input type="number" data-config="duration" data-type="number"
                                    value="{{node.config.duration}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p>
                                <p><strong>Note:</strong> The <code>ease</code> parameters are <em>not</em> supported
                                    for tokens due to Foundry removing support for it.</p>
                                <p>Check out what easings are available here: <a href="https://easings.net/"
                                        target="_blank" rel="noopener">https://easings.net/</a></p><select
                                    data-config="ease">
                                    <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear
                                    </option>
                                    <option value="easeInSine" {{#if (eq node.config.ease "easeInSine"
                                        )}}selected{{/if}}>easeInSine</option>
                                    <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine"
                                        )}}selected{{/if}}>easeOutSine</option>
                                    <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine"
                                        )}}selected{{/if}}>easeInOutSine</option>
                                    <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad"
                                        )}}selected{{/if}}>easeInQuad</option>
                                    <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad"
                                        )}}selected{{/if}}>easeOutQuad</option>
                                    <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad"
                                        )}}selected{{/if}}>easeInOutQuad</option>
                                    <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic"
                                        )}}selected{{/if}}>easeInCubic</option>
                                    <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic"
                                        )}}selected{{/if}}>easeOutCubic</option>
                                    <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic"
                                        )}}selected{{/if}}>easeInOutCubic</option>
                                    <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart"
                                        )}}selected{{/if}}>easeInQuart</option>
                                    <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart"
                                        )}}selected{{/if}}>easeOutQuart</option>
                                    <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart"
                                        )}}selected{{/if}}>easeInOutQuart</option>
                                    <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint"
                                        )}}selected{{/if}}>easeInQuint</option>
                                    <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint"
                                        )}}selected{{/if}}>easeOutQuint</option>
                                    <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint"
                                        )}}selected{{/if}}>easeInOutQuint</option>
                                    <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo"
                                        )}}selected{{/if}}>easeInExpo</option>
                                    <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo"
                                        )}}selected{{/if}}>easeOutExpo</option>
                                    <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo"
                                        )}}selected{{/if}}>easeInOutExpo</option>
                                    <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc"
                                        )}}selected{{/if}}>easeInCirc</option>
                                    <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc"
                                        )}}selected{{/if}}>easeOutCirc</option>
                                    <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc"
                                        )}}selected{{/if}}>easeInOutCirc</option>
                                    <option value="easeInBack" {{#if (eq node.config.ease "easeInBack"
                                        )}}selected{{/if}}>easeInBack</option>
                                    <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack"
                                        )}}selected{{/if}}>easeOutBack</option>
                                    <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack"
                                        )}}selected{{/if}}>easeInOutBack</option>
                                    <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic"
                                        )}}selected{{/if}}>easeInElastic</option>
                                    <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic"
                                        )}}selected{{/if}}>easeOutElastic</option>
                                    <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic"
                                        )}}selected{{/if}}>easeInOutElastic</option>
                                    <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce"
                                        )}}selected{{/if}}>easeInBounce</option>
                                    <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce"
                                        )}}selected{{/if}}>easeOutBounce</option>
                                    <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce"
                                        )}}selected{{/if}}>easeInOutBounce</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                                <input type="number" data-config="delay" data-type="number"
                                    value="{{node.config.delay}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Rotation offset (º)</strong></p>
                                <input type="number" data-config="rotationOffset" data-type="number"
                                    value="{{node.config.rotationOffset}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Towards Center</strong>
                                <input type="checkbox" data-config="towardsCenter" data-type="boolean" {{#if
                                    node.config.towardsCenter}}checked{{/if}}></p>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Cache Location</strong>
                                    <input type="checkbox" data-config="cacheLocation" data-type="boolean" {{#if
                                        node.config.cacheLocation}}checked{{/if}}></p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- TELEPORT TO (child) --}}
                    {{#if (eq node.type "teleportTo")}}
                    <fieldset class="v-group">
                        <legend>Teleport To</legend>
                        <p><code>.teleportTo(target, options)</code></p>
                        <p><code>.teleportTo(inToken)</code> or <code>.teleportTo(inTile)</code> or
                            <code>.teleportTo({ x: 0, y: 0 })</code></p>
                        <p>Sets the location to teleport the target object to.</p>
                        <p>A second options parameter can set the delay before it starts, as well as if the object
                            should be centered on the given location.</p>
                        <p>Default parameters: <code>{ delay: 0, relativeToCenter: false }</code></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                                <select data-config="mode">
                                    <option value="inToken" {{#if (eq node.config.mode "inToken" )}}selected{{/if}}>
                                        inToken</option>
                                    <option value="inTile" {{#if (eq node.config.mode "inTile" )}}selected{{/if}}>inTile
                                    </option>
                                    <option value="token-id" {{#if (eq node.config.mode "token-id" )}}selected{{/if}}>
                                        Token ID</option>
                                    <option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>Tile
                                        ID</option>
                                    <option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}> Point
                                        (x,y)</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                                <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                                <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinate X</strong></p>
                                <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinate Y</strong></p>
                                <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                                <input type="number" data-config="delay" data-type="number"
                                    value="{{node.config.delay}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Relative to center</strong>
                                <input type="checkbox" data-config="relativeToCenter" data-type="boolean" {{#if
                                    node.config.relativeToCenter}}checked{{/if}}></p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- OFFSET (child) --}}
                    {{#if (eq node.type "offset")}}
                    <fieldset class="v-group">
                        <legend>Offset</legend>
                        <p><code>.offset({ x: 0, y: 0 })</code></p>
                        <p>Causes the movement or teleportation to be offset in the X and/or Y axis</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset X</strong></p>
                                <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset Y</strong></p>
                                <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CLOSEST SQUARE (child) --}}
                    {{#if (eq node.type "closestSquare")}}
                    <fieldset class="v-group">
                        <legend>Closest Square</legend>
                        <p><code>.closestSquare()</code> or <code>.closestSquare(boolean)</code></p>
                        <p>Causes the movement or teleportation to pick the closest non-intersecting square as the
                            target location</p>
                    </fieldset>
                    {{/if}}

                    {{!-- SNAP TO GRID (child) --}}
                    {{#if (eq node.type "snapToGrid")}}
                    <fieldset class="v-group">
                        <legend>Snap To Grid</legend>
                        <p><code>.snapToGrid()</code> or <code>.snapToGrid(boolean)</code></p>
                        <p>Causes the final location to be snapped to the grid</p>
                    </fieldset>
                    {{/if}}

                    {{!-- ROTATE (child) --}}
                    {{#if (eq node.type "rotate")}}
                    <fieldset class="v-group">
                        <legend>Rotate</legend>
                        <p><code>.rotate(90)</code></p>
                        <p>Sets the rotation of the animation, which is added on top of the calculated rotation after
                            <code>Rotate Towards node</code></p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Rotate (º)</strong></p>
                                <input type="number" data-config="rotate" data-type="number"
                                    value="{{node.config.rotate}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- ROTATE IN (child) --}}
                    {{#if (eq node.type "rotateIn")}}
                    <fieldset class="v-group">
                        <legend>Rotate In</legend>
                        <p><code>.rotateIn(degrees, duration, options)</code></p>
                        <p><code>.rotateIn(90, 250)</code> or <code>.rotateIn(-90, 500, {ease: "easeOutCubic"})</code>
                            or <code>.rotateIn(-90, 500, { ease: "easeOutCubic", delay: 100 })</code></p>
                        <p>Causes the target object to rotate when it starts playing.</p>
                        <p>The first parameter is the degrees from which to start the rotation.</p>
                        <p>The second parameter is how many milliseconds the rotation will take.</p>
                        <p>A third options parameter can set the ease of the rotation, and the delay before it starts.
                        </p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Degrees (º)</strong></p>
                                <input type="number" data-config="degrees" data-type="number"
                                    value="{{node.config.degrees}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                                <input type="number" data-config="duration" data-type="number"
                                    value="{{node.config.duration}}">
                            </label>
                        </div>


                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p>

                                <p><strong>Note:</strong> The <code>ease</code> parameters are <em>not</em> supported
                                    for tokens due to Foundry removing support for it.</p>
                                <p>Check out what easings are available here: <a href="https://easings.net/"
                                        target="_blank" rel="noopener">https://easings.net/</a></p>
                                <select data-config="ease">
                                    <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear
                                    </option>
                                    <option value="easeInSine" {{#if (eq node.config.ease "easeInSine"
                                        )}}selected{{/if}}>easeInSine</option>
                                    <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine"
                                        )}}selected{{/if}}>easeOutSine</option>
                                    <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine"
                                        )}}selected{{/if}}>easeInOutSine</option>
                                    <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad"
                                        )}}selected{{/if}}>easeInQuad</option>
                                    <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad"
                                        )}}selected{{/if}}>easeOutQuad</option>
                                    <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad"
                                        )}}selected{{/if}}>easeInOutQuad</option>
                                    <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic"
                                        )}}selected{{/if}}>easeInCubic</option>
                                    <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic"
                                        )}}selected{{/if}}>easeOutCubic</option>
                                    <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic"
                                        )}}selected{{/if}}>easeInOutCubic</option>
                                    <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart"
                                        )}}selected{{/if}}>easeInQuart</option>
                                    <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart"
                                        )}}selected{{/if}}>easeOutQuart</option>
                                    <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart"
                                        )}}selected{{/if}}>easeInOutQuart</option>
                                    <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint"
                                        )}}selected{{/if}}>easeInQuint</option>
                                    <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint"
                                        )}}selected{{/if}}>easeOutQuint</option>
                                    <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint"
                                        )}}selected{{/if}}>easeInOutQuint</option>
                                    <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo"
                                        )}}selected{{/if}}>easeInExpo</option>
                                    <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo"
                                        )}}selected{{/if}}>easeOutExpo</option>
                                    <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo"
                                        )}}selected{{/if}}>easeInOutExpo</option>
                                    <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc"
                                        )}}selected{{/if}}>easeInCirc</option>
                                    <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc"
                                        )}}selected{{/if}}>easeOutCirc</option>
                                    <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc"
                                        )}}selected{{/if}}>easeInOutCirc</option>
                                    <option value="easeInBack" {{#if (eq node.config.ease "easeInBack"
                                        )}}selected{{/if}}>easeInBack</option>
                                    <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack"
                                        )}}selected{{/if}}>easeOutBack</option>
                                    <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack"
                                        )}}selected{{/if}}>easeInOutBack</option>
                                    <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic"
                                        )}}selected{{/if}}>easeInElastic</option>
                                    <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic"
                                        )}}selected{{/if}}>easeOutElastic</option>
                                    <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic"
                                        )}}selected{{/if}}>easeInOutElastic</option>
                                    <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce"
                                        )}}selected{{/if}}>easeInBounce</option>
                                    <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce"
                                        )}}selected{{/if}}>easeOutBounce</option>
                                    <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce"
                                        )}}selected{{/if}}>easeInOutBounce</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                                <input type="number" data-config="delay" data-type="number"
                                    value="{{node.config.delay}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- ROTATE OUT (child) --}}
                    {{#if (eq node.type "rotateOut")}}
                    <fieldset class="v-group">
                        <legend>Rotate Out</legend>
                        <p><code>.rotateOut(degrees, duration, options)</code></p>
                        <p><code>.rotateOut(90, 250)</code> or <code>.rotateOut(-90, 500, {ease: "easeOutCubic"})</code>
                            or <code>.rotateOut(-90, 500, { ease: "easeOutCubic", delay: -100 })</code></p>
                        <p>Causes the target object to rotate when it finishes playing.</p>
                        <p>The first parameter is the degrees from which to start the rotation.</p>
                        <p>The second parameter is how many milliseconds the rotation will take.</p>
                        <p>A third options parameter can set the ease of the rotation, and the delay before it ends.
                            E.g. a delay of -500 means the rotation will finish 500ms before the end.</p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Degrees (º)</strong></p>
                                <input type="number" data-config="degrees" data-type="number"
                                    value="{{node.config.degrees}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                                <input type="number" data-config="duration" data-type="number"
                                    value="{{node.config.duration}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p>

                                <p><strong>Note:</strong> The <code>ease</code> parameters are <em>not</em> supported
                                    for tokens due to Foundry removing support for it.</p>
                                <p>Check out what easings are available here: <a href="https://easings.net/"
                                        target="_blank" rel="noopener">https://easings.net/</a></p><select
                                    data-config="ease">
                                    <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear
                                    </option>
                                    <option value="easeInSine" {{#if (eq node.config.ease "easeInSine"
                                        )}}selected{{/if}}>easeInSine</option>
                                    <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine"
                                        )}}selected{{/if}}>easeOutSine</option>
                                    <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine"
                                        )}}selected{{/if}}>easeInOutSine</option>
                                    <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad"
                                        )}}selected{{/if}}>easeInQuad</option>
                                    <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad"
                                        )}}selected{{/if}}>easeOutQuad</option>
                                    <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad"
                                        )}}selected{{/if}}>easeInOutQuad</option>
                                    <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic"
                                        )}}selected{{/if}}>easeInCubic</option>
                                    <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic"
                                        )}}selected{{/if}}>easeOutCubic</option>
                                    <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic"
                                        )}}selected{{/if}}>easeInOutCubic</option>
                                    <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart"
                                        )}}selected{{/if}}>easeInQuart</option>
                                    <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart"
                                        )}}selected{{/if}}>easeOutQuart</option>
                                    <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart"
                                        )}}selected{{/if}}>easeInOutQuart</option>
                                    <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint"
                                        )}}selected{{/if}}>easeInQuint</option>
                                    <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint"
                                        )}}selected{{/if}}>easeOutQuint</option>
                                    <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint"
                                        )}}selected{{/if}}>easeInOutQuint</option>
                                    <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo"
                                        )}}selected{{/if}}>easeInExpo</option>
                                    <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo"
                                        )}}selected{{/if}}>easeOutExpo</option>
                                    <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo"
                                        )}}selected{{/if}}>easeInOutExpo</option>
                                    <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc"
                                        )}}selected{{/if}}>easeInCirc</option>
                                    <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc"
                                        )}}selected{{/if}}>easeOutCirc</option>
                                    <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc"
                                        )}}selected{{/if}}>easeInOutCirc</option>
                                    <option value="easeInBack" {{#if (eq node.config.ease "easeInBack"
                                        )}}selected{{/if}}>easeInBack</option>
                                    <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack"
                                        )}}selected{{/if}}>easeOutBack</option>
                                    <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack"
                                        )}}selected{{/if}}>easeInOutBack</option>
                                    <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic"
                                        )}}selected{{/if}}>easeInElastic</option>
                                    <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic"
                                        )}}selected{{/if}}>easeOutElastic</option>
                                    <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic"
                                        )}}selected{{/if}}>easeInOutElastic</option>
                                    <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce"
                                        )}}selected{{/if}}>easeInBounce</option>
                                    <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce"
                                        )}}selected{{/if}}>easeOutBounce</option>
                                    <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce"
                                        )}}selected{{/if}}>easeInOutBounce</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                                <input type="number" data-config="delay" data-type="number"
                                    value="{{node.config.delay}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- TINT (child) --}}
                    {{#if (eq node.type "tint")}}
                    <fieldset class="v-group">
                        <legend>Tint</legend>
                        <p><code>.tint()</code> or <code>.tint(hexadecimal)</code> or <code>.tint(decimal)</code></p>
                        <p>Examples:</p>
                        <ul>
                            <li><code>.tint("#FF0000")</code> - Red tint</li>
                            <li><code>.tint(0x0000FF)</code> - Blue tint</li>
                        </ul>
                        <p>This method tints the token or tile with the given color. Supplying no parameter will reset
                            the tint to nothing.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                                <select data-config="mode">
                                    <option value="none" {{#if (eq node.config.mode "none" )}}selected{{/if}}>(ninguno)
                                    </option>
                                    <option value="reset" {{#if (eq node.config.mode "reset" )}}selected{{/if}}>reset
                                    </option>
                                    <option value="hex" {{#if (eq node.config.mode "hex" )}}selected{{/if}}>hex</option>
                                    <option value="decimal" {{#if (eq node.config.mode "decimal" )}}selected{{/if}}>
                                        decimal</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tint hex</strong></p>
                                <input type="text" data-config="hex" value="{{node.config.hex}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tint decimal</strong></p>
                                <input type="number" data-config="dec" data-type="number" value="{{node.config.dec}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- HIDE (child) --}}
                    {{#if (eq node.type "hide")}}
                    <fieldset class="v-group">
                        <legend>Hide</legend>
                        <p><code>.hide()</code> or <code>.hide(boolean)</code></p>
                        <p>Causes the animated object to be hidden (or visible, if the parameter passed to it is
                            <code>false</code>)</p>
                    </fieldset>
                    {{/if}}

                    {{!-- SHOW (child) --}}
                    {{#if (eq node.type "show")}}
                    <fieldset class="v-group">
                        <legend>Show</legend>
                        <p><code>.show()</code> or <code>.show(boolean)</code></p>
                        <p>Causes the animated object to be visible (or hidden, if the parameter passed to it is
                            <code>false</code>)</p>
                    </fieldset>
                    {{/if}}

                    {{!-- SOUND (root) --}}
                    {{#if (eq node.type "sound")}}
                    <fieldset class="v-group">
                        <legend>Sound</legend>
                        <h3 style="color:white;"><span>What is this?</span></h3>
                        <p>This part of the Sequencer makes playing sounds easy, including fading the sound in or out, playing for specific players, etc.</p>
                        <h3 style="color:white;"><span>How do I use this?</span></h3>
                        <p>When creating a sound section, you can configure the sound like this:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;">Sound</span> (<span style="color:#ffcb6b">File "sounds/mysound.ogg"</span>) <span style="color:#f07178;"> → </span>
<span style="color: #89ddff;">Fade (audio)</span> (<span style="color:#ffcb6b">fadeIn: 500ms</span> | <span style="color:#ffcb6b">fadeOut: 500ms</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>File</strong></p>
<input type="text" data-config="file" value="{{node.config.file}}">
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- ANIMATION (root) --}}
                    {{#if (eq node.type "animation")}}
                    <fieldset class="v-group">
                        <legend>Animation</legend>
                        <h3 style="color:white;"><span>What is this?</span></h3>
                        <p>This part of the Sequencer acts <strong>on</strong> objects in the scene, such as tokens,
                            tiles, etc, and it can do things like moving tokens, teleporting them, hiding them, fading
                            them out, etc.</p>
                        <h3 style="color:white;"><span>How do I use this?</span></a></h3>
                        <p>When creating an animation section, you can assemble these methods like this:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">

<span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Animation</span> <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">On</span> <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Fade</span> (<span style="color:#ffcb6b">fadeIn: 500ms</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Teleport To</span> (<span style="color:#ffcb6b">x: 100, y: 0</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
</fieldset>
{{/if}}

                    {{!-- SCROLLING TEXT (root) --}}
                    {{#if (eq node.type "scrollingText")}}
                    <fieldset class="v-group">
                        <legend>Scrolling Text</legend>
                        <h3 style="color:white;"><span>What is this?</span></h3>
                        <p>This part of the Sequencer allows you to easily display scrolling text on the canvas, to
                            simulate damage numbers or other text. It is a simpler version of effects, but still
                            rocks a powerful API.</p>
                        <h3 style="color:white;"><span>How do I use this?</span></h3>
                        <p>When creating a scrolling text section, you can configure the text and duration like
                            this:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code>Start / Sequence</span><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;"></span>Scrolling Text</span><span class="token punctuation">(<span style="color:#ffcb6b">"My Text"</span>)<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">At Location</span>(<span style="color:#ffcb6b">Token</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
<p>or more involved</p>
<pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Scrolling Text</span> <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">At Location</span>(<span style="color:#ffcb6b">Token</span>, <span style="color:#ffcb6b">Random Offset: True</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Text</span>(<span style="color:#ffcb6b">"My Text"</span> | <span style="color:#ffcb6b">Fill: #ffffff</span> | <span style="color:#ffcb6b">Font Size: 35</span> | <span style="color:#ffcb6b">Font Weigth: bold</span> | <span style="color:#ffcb6b">Lone Join: round</span> | <span style="color:#ffcb6b">Stroke Thickness: 3</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Text</strong></p>
<input type="text" data-config="text" value="{{node.config.text}}">
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
<input type="number" data-config="durationMs" data-type="number"
                                value="{{node.config.durationMs}}">
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- CANVAS PAN (root) --}}
                    {{#if (eq node.type "canvasPan")}}
                    <fieldset class="v-field">
                        <legend>Canvas Pan</legend>
                    <h3 style="color:white;"><span>What is this?</span></h3>
                    <p>This part of the Sequencer allows you to easily pan your canvas, or the canvas of other players.</p>
                    <p>When creating a canvas pan section, you can assemble these methods like this:</p>
                    <pre v-pre="" data-lang="js" class="language-js"><code>Start / Sequence</span><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;"></span>Canvas Pan</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">At Location</span>(<span style="color:#ffcb6b">Token</span>, <span style="color:#ffcb6b">Random Offset: True</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
<p>or more involved</p>

<pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Canvas Pan</span> <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">At Location</span>(<span style="color:#ffcb6b">Token</span>) <span style="color:#f07178;"> → </span> // Set the location
<span style="color:#89ddff;">Duration</span>(<span style="color:#ffcb6b">1000</span>) <span style="color:#f07178;"> → </span> // Pan over 1 second
<span style="color:#89ddff;">Scale</span>(<span style="color:#ffcb6b">2</span>) <span style="color:#f07178;"> → </span> // Zoom in
<span style="color:#89ddff;">Lock View</span>(<span style="color:#ffcb6b">5000ms</span>)<span style="color:#f07178;"> → </span> // Lock the view for 5 seconds
<span style="color:#89ddff;">Play</span></code></pre>

                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR (root) --}}
                    {{#if (eq node.type "crosshair")}}
                    <fieldset class="v-field">
                        <legend>Crosshair</legend>
                    <h3 style="color:white;"><span>What is this?</span></h3>
                        <p>This part of the Sequencer enables the use of its crosshairs directly in sequences. It can be used to select a location for an
                        <code>Effect node</code> to be played at, or to move a token via an
                        <code>Animation node</code> to a specific location.</p>
                    <h3 style="color:white;"><span>How do i use this?</span></h3>
                    <p>You can assemble a crosshair section like this:</p>
                    <pre v-pre="" data-lang="js" class="language-js"><code>Start / Sequence</span><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;"></span>Crosshair</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">At Location</span>(<span style="color:#ffcb6b">target</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Fade (Visual)</span> (<span style="color:#ffcb6b">Fade In: 500ms</span> | <span style="color:#ffcb6b">Fade Out: 500ms</span>) <span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
<h3 style="color:white;"><span>Why "crosshair"?</span></h3>
<p>The central idea is to give the crosshair a name, which ties its final location to a piece of text. When you use
<code>Crosshair (target)</code> the section will create a crosshair and when it has been placed, tie the location that it ends up at with the text
<code>target</code> - this means that any section after this one can use
<code>target</code> in its location methods (such as effects) as a placeholder for its placement location.</p>

<p>You can also use the <code>Name field</code> method to achieve the same thing.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Name</strong></p>
                            <input type="text" data-config="name" value="{{node.config.name}}">
                        </label>
                        <p>Causes the crosshair’s final position to be stored in the sequence, and can then be used in any subsequent section as a placeholder for locations, such as in effect’s <code>At Location Node</code>.</p>
                    </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>File</strong></p>
                            <input type="text" data-config="file" value="{{node.config.file}}">
                        </label>
                    </fieldset>
                    {{/if}}

                    {{!-- WAIT (root) --}}
                    {{#if (eq node.type "wait")}}
                    <fieldset class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Time (ms)</strong></p>
                            <input type="number" data-config="ms" data-type="number" value="{{node.config.ms}}">
                        </label>
                    </fieldset>
                    {{/if}}

                    {{!-- MACRO (root) --}}
                    {{#if (eq node.type "macro")}}
                    <fieldset class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Macro name</strong></p>
                            <input type="text" data-config="macroName" value="{{node.config.macroName}}">
                        </label>
                    </fieldset>
                    {{/if}}

                    {{!-- START TIME (child) --}}
                    {{#if (eq node.type "startTime")}}
                    <fieldset class="v-group">
                        <legend>Start Time</legend>
                        <p><code>.startTime(200)</code></p>
                        <p>Sets the start time of the effect.</p>
                        <p>This causes the effect to skip ahead by an amount of milliseconds.</p>
                        <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/start_time.jpg" alt="End time example image" class="medium-zoom-image"></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Start time (ms)</strong></p>
                                <input type="number" data-config="startTime" data-type="number"
                                    value="{{node.config.startTime}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- START TIME PERCENTAGE(child) --}}
                    {{#if (eq node.type "startTimePerc")}}
                    <fieldset class="v-group">
                        <legend>Start Time Percentage</legend>
                        <p><code>.startTimePerc(0.25)</code></p>
                        <p>Sets the start time of the effect based on a percentage from its total duration.</p>
                        <p>This also causes the effect to skip ahead, but instead based on the total duration of the effect, which is useful if you don’t know the exact duration.</p>
                        <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/start_perc.jpg" alt="Start time percentage example image" class="medium-zoom-image"></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Start time percentage (0-1)</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="startTimePerc"
                                    data-type="number" value="{{node.config.startTimePerc}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- END TIME (child) --}}
                    {{#if (eq node.type "endTime")}}
                    <fieldset class="v-group">
                        <legend>End Time</legend>
                        <p><code>.endTime(200)</code></p>
                        <p>Sets the ending time of the effect.</p>
                        <p>This causes the effect to skip ahead by an amount of milliseconds.</p>
                        <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/end_time.jpg" alt="End time example image" class="medium-zoom-image"></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>End time (ms)</strong></p>
                                <input type="number" data-config="endTime" data-type="number"
                                    value="{{node.config.endTime}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}


                    {{!-- END TIME percentage(child) --}}
                    {{#if (eq node.type "endTimePerc")}}
                    <fieldset class="v-group">
                        <legend>End Time Percentage</legend>
                        <p><code>.endTimePerc(0.25)</code></p>
                        <p>Sets the ending time of the effect based on a percentage from its total duration.</p>
                        <p>This also causes the effect to skip ahead, but instead based on the total duration of the effect, which is useful if you don’t know the exact duration.</p>
                        <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/end_perc.jpg" alt="End time percentage example image" class="medium-zoom-image"></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>End time percentage (0-1)</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="endTimePerc"
                                    data-type="number" value="{{node.config.endTimePerc}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- TIME RANGE (child) --}}
                    {{#if (eq node.type "timeRange")}}
                    <fieldset class="v-group">
                        <legend>Time Range</legend>
                        <p><code>.timeRange(200, 700)</code></p>
                        <p>Sets the start and end time of the section, playing only that range.</p>
                        <p>Unlike the <code>Ent Time node</code>, the last parameter is the absolute end time, not the time from end of the duration.</p>
                        <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/time_range.jpg" alt="Time range example image" class="medium-zoom-image"></p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Start (ms)</strong></p>
                                <input type="number" data-config="start" data-type="number"
                                    value="{{node.config.start}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>End (ms)</strong></p>
                                <input type="number" data-config="end" data-type="number" value="{{node.config.end}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- PRESET (child) --}}
                    {{#if (eq node.type "preset")}}
                    <fieldset class="v-group">
                        <legend>Preset</legend>
                        <p><code>.preset("name")</code></p>
                        <p>Applies a preset to the current animation - read the <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/presets">Sequencer Presets
                                article</a> for more information.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Preset name</strong></p>
                                <input type="text" data-config="preset" value="{{node.config.preset}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- BASE FOLDER (child) --}}
                    {{#if (eq node.type "baseFolder")}}
                    <fieldset class="v-group">
                        <legend>Base Folder</legend>
                        <code>.baseFolder(inPath)</code>
                        <p>Defines the base folder that will prepend to the file path. This is mainly just useful to make the file path easier to manage.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Base folder path</strong></p>
                                <input type="text" data-config="baseFolder" value="{{node.config.baseFolder}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- SET MUSTACHE (child) --}}
                    {{#if (eq node.type "setMustache")}}
                    <fieldset class="v-group">
                        <legend>Set Mustache</legend>
                        <p><code>.setMustache(object)</code></p>
                        <p>Sets the <a href="https://handlebarsjs.com/guide/" target="_blank" rel="noopener">Mustache</a> of the filepath. This is applied <em>after</em> the randomization of the filepath, if available.</p>
                        <p>An example would be to provide a path like this to the sound: <code>Explosion_\{{type}}_\{{number}}.wav</code></p>
                        <p>An example would be to provide a path like this to the Effect: <code>MagicMissile_01_Regular_\{{color}}_30ft_0\{{number}}_1600x400.webm</code></p>
                        <p>By then calling this method and passing an object, Mustache will attempt to fill in <code>\{{type}}</code> or <code>\{{color}}</code> and <code>\{{number}}</code> with that object. This means we can dynamically generate the string for the path. If you were to pass this into the method:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">{
  <span style="color:#f07178">"type"</span>: <span style="color:#ffcb6b">"Electrical"</span>,
  <span style="color:#f07178">"number"</span>: <span style="color:#ffcb6b">"5"</span>
}
{
  <span style="color:#f07178">"color"</span>: <span style="color:#ffcb6b">"blue"</span>,
  <span style="color:#f07178">"number"</span>: <span style="color:#ffcb6b">"5"</span>
}
</code></pre>
<p>The final result would become: <code>Explosion_Electrical_5.wav</code> for the example sound and <code>MagicMissile_01_Regular_Blue_30ft_05_1600x400.webm</code> for the eample effect.</p>
<p>You can also pass functions that will get evaluated during runtime by Mustache:</p>
<pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">{
  <span style="color:#f07178">"color"</span>: <span style="#ffcb6b">() =&gt; {</span>
    <span style="color:#ffcb6b;">return</span> <span style="color:#ffcb6b;">["Fire", "Electrical", "Underwater"][Math.floor(Math.random() * 3)];</span> // Pick a random type from this list
  <span style="color:#ffcb6b;">}</span>,
  <span style="color:#f07178">"number"</span>: <span style="color:#ffcb6b">() =&gt; {</span>
    <span style="color:#ffcb6b;">return</span> <span style="color:#ffcb6b;">Math.ceil(Math.random() \* 9) + 1;</span> // Pick a random number between 1 and 9
  <span style="color:#ffcb6b;">}</span>
}
</code></pre>
<p>This would result in a random color, and a random number between 1 and 9, so any of these:</p>
<ul><li><code>Explosion_Electrical_1.wav</code></li>
<li><code>Explosion_Electrical_2.wav</code></li>
<li><code>Explosion_Fire_3.webm.wav</code></li>
<li><code>Explosion_Underwater_4.wav</code></li>
<li>…and so on</li></ul>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mustache object (js literal)</strong></p>
<textarea data-config="mustache" rows="4">{{node.config.mustache}}</textarea>
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- ADD OVERRIDE (child) --}}
                    {{#if (eq node.type "addOverride")}}
                    <fieldset class="v-group">
                        <legend>Add Override</legend>
                        <p>Adds a function that will run at the end of the sound serialization step, but before it is played. Allows direct modifications of sound’s data. For example, it could be manipulated to change which file will be used based  on the distance to the target.</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Add Override</span>(Example <span style="color:#ffcb6b;">async (sound, data)</span> => {
<span style="color:#ffcb6b;">// Do things here</span>
<span style="color:#ffcb6b;">return soundData;</span>
}) ///
</code></pre>
<p><code>sound</code> is a reference to the sound in itself - interact with this at your own risk.</p>
<p><code>data</code> is the sound’s data that is going to be passed to canvas layer.</p>
<p>You <em>must</em> define the function like above and return the data at the end of the function. See examples at the bottom of the <a href="https://github.com/fantasycalendar/FoundryVTT-Sequencer/blob/master/README.md#magic-missile" target="_blank" rel="noopener">readme</a> for more in depth usage.</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Override code</strong></p>
<textarea data-config="body" rows="6">{{node.config.body}}</textarea>
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- VOLUME (child) --}}
                    {{#if (eq node.type "volume")}}
                    <fieldset class="v-group">
                        <legend>Volume</legend>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Volume 0-1</strong></p>
                                <p>A normalized value between <code>0.0</code> and <code>1.0</code> which determines the
                                    volume of the sound. Defaults to <code>0.0</code>.</p>
                                <p><strong>Note:</strong> This is affected by each client’s volume settings in Foundry,
                                    so if you or your users cannot hear the sound, double check your Interface Volume.
                                </p>
                                <input type="number" step="0.05" min="0" max="1" data-config="volume" data-type="number"
                                    value="{{node.config.volume}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- LOCALLY (child) --}}
                    {{#if (eq node.type "locally")}}
                    <fieldset class="v-group">
                        <legend>Locally</legend>
                        <p><code>.locally()</code> or <code>.locally(bool)</code></p>
                        <p>Causes the effect to be played only locally, and not push to other connected clients.</p>
                    </fieldset>
                    {{/if}}

                    {{!-- PLAYIF (child) --}}
                    {{#if (eq node.type "playIf")}}
                    <fieldset class="v-group">
                        <legend>Play If</legend>
                        <p><code>.playIf(boolean)</code> or <code>.playIf(inFunction)</code></p>
                        <p>Causes the canvas pan not to play, and skip all delays, repetitions, waits, etc. If you pass a function, the function should return something false-y if you do not want the canvas pan or sound to play.</p>
                        <p>Below is an example of a function used in this method, which would cause this canvas pan to only be played about 50% of the time.</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Play If</span>(Example <span style="color:#ffcb6b;">return Math.random() < 0.5;</span>) ///
</code></pre>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                                <select data-config="mode">
                                    <option value="always" {{#if (eq node.config.mode "always" )}}selected{{/if}}>Always
                                    </option>
                                    <option value="boolean" {{#if (eq node.config.mode "boolean" )}}selected{{/if}}>
                                        Boolean</option>
                                    <option value="chance" {{#if (eq node.config.mode "chance" )}}selected{{/if}}>Chance
                                    </option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Play if boolean</strong></p>
                                <select data-config="bool">
                                    <option value="true" {{#if node.config.bool}}selected{{/if}}>true</option>
                                    <option value="false" {{#unless node.config.bool}}selected{{/unless}}>false</option>
                                </select>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Play if chance (0-1)</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="chance" data-type="number"
                                    value="{{node.config.chance}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- FADE (Opacity) (child) --}}
                    {{#if (eq node.type "fade")}}
                    <fieldset class="v-group">
                        <legend>Fade (Visual)</legend>
                        <p><code>.fadeIn(duration, options)</code></p>
                        <p><code>.fadeIn(500)</code> or <code>.fadeIn(250, { ease: "easeOutQuint" })</code> or
                            <code>.fadeIn(400, { ease: "easeOutCirc", delay: 100 })</code></p>
                        <p>Causes the animation target to fade in its opacity/alpha when played.</p>
                        <p>A second options parameter can set the ease of the fade, and the delay before it starts.</p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>
                        <p><strong>Note:</strong> The <code>ease</code> parameters are <em>not</em> supported for tokens
                            due to Foundry removing support for it.</p>
                        <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank"
                                rel="noopener">https://easings.net/</a></p>

                        {{> v-fade-direction
                        label="Fade In"
                        durKey="fadeInDuration"
                        easeKey="fadeInEase"
                        delayKey="fadeInDelay"
                        config=node.config}}

                        <hr>

                        <p><code>.fadeOut(duration, options)</code></p>
                        <p><code>.fadeOut(500)</code> or <code>.fadeOut(250, { ease: "easeOutQuint" })</code> or
                            <code>.fadeOut(400, { ease: "easeOutCirc", delay: -100 })</code></p>
                        <p>Causes the animation target to fade out its opacity/alpha when it has finished playing.</p>
                        <p>A second options parameter can set the ease of the fade, and a delay before it ends. E.g. a
                            delay of -500 means the fade will finish 500ms before the end.</p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>
                        <p><strong>Note:</strong> The <code>ease</code> parameters are <em>not</em> supported for tokens
                            due to Foundry removing support for it.</p>
                        <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank"
                                rel="noopener">https://easings.net/</a></p>
                        {{> v-fade-direction
                        label="Fade Out"
                        durKey="fadeOutDuration"
                        easeKey="fadeOutEase"
                        delayKey="fadeOutDelay"
                        config=node.config}}
                    </fieldset>
                    {{/if}}

                    {{!-- FADE AUDIO (child) --}}
                    {{#if (eq node.type "fadeAudio")}}
                    <fieldset class="v-group">
                        <legend>Fade (Audio)</legend>
                        <p><code>.fadeInAudio(duration, options)</code></p>
                        <p><code>.fadeInAudio(500)</code> or <code>.fadeInAudio(250, { ease: "easeOutQuint" })</code> or
                            <code>.fadeInAudio(400, { ease: "easeOutCirc", delay: 100 })</code></p>
                        <p>Causes the audio on the given section fade in when played.</p>
                        <p>A second options parameter can set the ease of the fade, and the delay before it starts.</p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>
                        <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank"
                                rel="noopener">https://easings.net/</a></p>

                        {{> v-fade-direction
                        label="Fade In audio"
                        durKey="fadeInDuration"
                        easeKey="fadeInEase"
                        delayKey="fadeInDelay"
                        config=node.config}}

                        <hr>
                        <p><code>.fadeOutAudio(duration, options)</code></p>
                        <p><code>.fadeOutAudio(500)</code> or <code>.fadeOutAudio(250, { ease: "easeOutQuint" })</code>
                            or <code>.fadeOutAudio(400, { ease: "easeOutCirc", delay: -100 })</code></p>
                        <p>Causes the section to fade out its audio as it finishes playing.</p>
                        <p>A second options parameter can set the ease of the fade, and a delay before it ends. E.g. a
                            delay of -500 means the fade will finish 500ms before the end.</p>
                        <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>
                        <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank"
                                rel="noopener">https://easings.net/</a></p>

                        {{> v-fade-direction
                        label="Fade Out audio"
                        durKey="fadeOutDuration"
                        easeKey="fadeOutEase"
                        delayKey="fadeOutDelay"
                        config=node.config}}
                    </fieldset>
                    {{/if}}

                    {{!-- LOOP OPTIONS (child) --}}
                    {{#if (eq node.type "loopOptions")}}
                    <fieldset class="v-group">
                        <legend>Loop Options</legend>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Loop delay (ms)</strong></p>
                                <input type="number" data-config="loopDelay" data-type="number"
                                    value="{{node.config.loopDelay}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Maximum loops</strong></p>
                                <input type="number" data-config="maxLoops" data-type="number"
                                    value="{{node.config.maxLoops}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>On end last loop</strong>
                                <input type="checkbox" data-config="endOnLastLoop" data-type="boolean" {{#if
                                    node.config.endOnLastLoop}}checked{{/if}}></p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- FOR USERS (child) --}}
                    {{#if (eq node.type "forUsers")}}
                    <fieldset class="v-group">
                        <legend>For Users</legend>
                        <p><code>.forUsers(string)</code> or <code>.forUsers(array)</code></p>
                        <p>Causes the canvas pan to be played for only a set of users.</p>
                        <p>Accepts a single user ID or username (case-sensitive), or an array thereof.</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>User IDs / Names (comma separated)</strong></p>
                                <input type="text" data-config="users" value="{{node.config.users}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- COPY SPRITE (child) --}}
                    {{#if (eq node.type "copySprite")}}
                    <fieldset class="v-group">
                        <legend>Copy Sprite</legend>
                        <code>.copySprite(token|tile, object)</code>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#f07178;"> → </span><span style="color:#89ddff;">copySprite</span>(<span style="color:#ff9cac;">token</span>)///

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">copySprite</span>(<span style="color:#ffcb6b;">tile</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">copySprite</span>(<span style="color:#ffcb6b;">token</span>, { <span style="color:#f78c6c;">Cache Location</span>: <span style="color:#ffcb6b;">true</span>}) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">copySprite</span>(<span style="color:#ffcb6b;">token</span>, { <span style="color:#f78c6c;">Random Offset</span>: <span style="color:#ffcb6b;">true</span> }) ///
</code></pre>
<p>Create an effect based on the given object, effectively copying the object as an effect. Useful when you want to do some effect magic on tokens or tiles. When used with a token or a tile, the effect will be placed at the exact same place as the object.</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
<select data-config="mode">
<option value="selected-token" {{#if (eq node.config.mode "selected-token"
                                        )}}selected{{/if}}>Token selected</option>
<option value="selected-tile" {{#if (eq node.config.mode "selected-tile"
                                        )}}selected{{/if}}>Tile selected</option>
<option value="token-id" {{#if (eq node.config.mode "token-id"
                                        )}}selected{{/if}}>Token ID</option>
<option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>
Tile ID</option>
</select>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
<input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
</label>
</div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                                <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                            </label>
                        </div>

                        <hr>

                        <p>Also supports a second options object that accepts:</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random Offset</strong></p>
                                <input type="number" data-config="randomOffset" data-type="number"
                                    value="{{node.config.randomOffset}}">
                            <p>Causes the location to be offset by a random amount - if given a number, this acts as a multiplier for the randomness, using the size of the object (or a single grid square/hex) as the multiplier.</p>
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset</strong></p>
                            <p>(default <code>{ x: 0, y: 0 }</code>) - causes the location to be offset by a set amount</p>
                            </label>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset X</strong></p>
                                <input type="number" data-config="offsetX" data-type="number"
                                    value="{{node.config.offsetX}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset Y</strong></p>
                                <input type="number" data-config="offsetY" data-type="number"
                                    value="{{node.config.offsetY}}">
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Cache Location</strong>
                                <input type="checkbox" data-config="cacheLocation" data-type="boolean" {{#if
                                    node.config.cacheLocation}}checked{{/if}}></p>
                                <p>Causes the given object’s location to be cached immediately rather than retrieved during the Sequence’s runtime</p>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Local</strong>
                                <input type="checkbox" data-config="local" data-type="boolean" {{#if
                                    node.config.local}}checked{{/if}}></p>
                            <p>Used with <code>offset</code> to cause the location to be offset locally to the effect’s rotation</p>
                            </label>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid units</strong>
                                <input type="checkbox" data-config="gridUnits" data-type="boolean" {{#if
                                    node.config.gridUnits}}checked{{/if}}></p>
                                <p>Used with <code>offset</code> to make each whole number represent in <code>x</code> and <code>y</code> to represent the effect’s scene’s grid size</p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- ATTACH TO (child) --}}
                    {{#if (eq node.type "attachTo")}}
                    <fieldset class="v-group">
                        <legend>Attach To</legend>
                        <p><code>.attachTo(object|string, object)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ff9cac;">token</span>)///

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ffcb6b;">tile</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ffcb6b;">template</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ffcb6b;">"stored_name"</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ffcb6b;">token</span>, { <span style="color:#f78c6c;">Align</span>: <span style="color:#ffcb6b;">"top-right"</span>, <span style="color:#f78c6c;">Edge</span>: <span style="color:#ffcb6b;">"outer"</span> }) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ffcb6b;">token</span>, { <span style="color:#f78c6c;">Bind Visibility</span>: <span style="color:#ffcb6b;">false</span>, <span style="color:#f78c6c;">Random Offset</span>: <span style="color:#ffcb6b;">true</span> }) ///
</code></pre>
<p>This method makes the effect attached to an object. If the object cannot have attached effects, the effect will be created on the canvas.</p>
<p>A smart method that can take:</p>
<ul><li>Reference to a placeable object (tokens, templates, lights, etc)</li>
<li>String reference (see <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=name"><code>Name node</code></a>)</li></ul>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
<select data-config="mode">
<option value="selected-token" {{#if (eq node.config.mode "selected-token"
                                )}}selected{{/if}}>Token selected</option>
<option value="template" {{#if (eq node.config.mode "template"
                                )}}selected{{/if}}>Template</option>
<option value="token-id" {{#if (eq node.config.mode "token-id"
                                )}}selected{{/if}}>Token ID</option>
<option value="token-name" {{#if (eq node.config.mode "token-name"
                                )}}selected{{/if}}>Token name</option>
<option value="name" {{#if (eq node.config.mode "name" )}}selected{{/if}}>Stored
name</option>
</select>
</label>
</div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                        <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                    </label>
                        </div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token name</strong></p>
                        <input type="text" data-config="tokenName" value="{{node.config.tokenName}}">
                    </label>
                        </div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Stored name</strong></p>
                        <input type="text" data-config="storedName" value="{{node.config.storedName}}">
                    </label>
                        </div>

                        <hr>

                        <p>In addition, a secondary options parameter can be given to this method, which has the following options:</p>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Align</strong></p>
                        <select data-config="align">
                            <option value="top-left" {{#if (eq node.config.align "top-left"
                                )}}selected{{/if}}>top-left</option>
                            <option value="top" {{#if (eq node.config.align "top" )}}selected{{/if}}>top
                            </option>
                            <option value="top-right" {{#if (eq node.config.align "top-right"
                                )}}selected{{/if}}>top-right</option>
                            <option value="left" {{#if (eq node.config.align "left" )}}selected{{/if}}>left
                            </option>
                            <option value="center" {{#if (eq node.config.align "center" )}}selected{{/if}}>
                                center</option>
                            <option value="right" {{#if (eq node.config.align "right" )}}selected{{/if}}>
                                right</option>
                            <option value="bottom-left" {{#if (eq node.config.align "bottom-left"
                                )}}selected{{/if}}>bottom-left</option>
                            <option value="bottom" {{#if (eq node.config.align "bottom" )}}selected{{/if}}>
                                bottom</option>
                            <option value="bottom-right" {{#if (eq node.config.align "bottom-right"
                                )}}selected{{/if}}>bottom-right</option>
                        </select>
                        <p>(default <code>center</code>) - This causes the attached effect to snap to a given coordinate on the target</p>
                    </label>
                        </div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Edge</strong></p>
                        <select data-config="edge">
                            <option value="inner" {{#if (eq node.config.edge "inner" )}}selected{{/if}}>
                                inner</option>
                            <option value="on" {{#if (eq node.config.edge "on" )}}selected{{/if}}>on
                            </option>
                            <option value="outer" {{#if (eq node.config.edge "outer" )}}selected{{/if}}>
                                outer</option>
                        <p>(default <code>on</code>) - Together with the <code>align</code> option, this causes the effect to snap to the inner, outer, or on the edge of the object. Valid options are:<ul><li>inner, on, outer</li></ul></p>
                        </select>
                    </label>
                        </div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random offset</strong></p>
                        <input type="number" data-config="randomOffset" data-type="number"
                            value="{{node.config.randomOffset}}">
                        <p>Causes the location to be offset by a random amount - if given a number, this acts as a multiplier for the randomness, using the size of the object (or a single grid square/hex) as the multiplier.</p>
                    </label>
                        </div>
                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset</strong></p>
                        <p>(default <code>{ x: 0, y: 0 }</code>) - causes the location to be offset by a set amount</p>
                    </label>
                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset X</strong></p>
                        <input type="number" data-config="offsetX" data-type="number"
                            value="{{node.config.offsetX}}">
                    </label>
                        </div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset Y</strong></p>
                        <input type="number" data-config="offsetY" data-type="number"
                            value="{{node.config.offsetY}}">
                    </label>
                        </div>
                        </div>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Bind Visibility</strong>
                            <input type="checkbox" data-config="bindVisibility"
                            data-type="boolean" {{#if node.config.bindVisibility}}checked{{/if}}></p>
                            <p(default <code>true</code>) - causes the effect to become hidden when the attached object is hidden</p>
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Bind Alpha</strong>
                            <input type="checkbox" data-config="bindAlpha"
                            data-type="boolean" {{#if node.config.bindAlpha}}checked{{/if}}></p>
                            <p>(default <code>true</code>) - causes the effect to share the same alpha as the attached object (not the same as above, hidden is on/off, alpha is a sliding scale of visibility)</p>
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Bind Scale</strong>
                            <input type="checkbox" data-config="bindScale"
                            data-type="boolean" {{#if node.config.bindScale}}checked{{/if}}></p>
                            <p>(default <code>true</code>) - causes the effect to bind its scale to the object if <code>Scale Object node</code> is used</p>
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Bind Rotation</strong>
                            <input type="checkbox" data-config="bindRotation"
                            data-type="boolean" {{#if node.config.bindRotation}}checked{{/if}}></p>
                            <p>(default <code>true</code>) - causes the effect to rotate along with the attached object</p>
                        </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Local</strong>
                                <input type="checkbox" data-config="local" data-type="boolean"
                            {{#if node.config.local}}checked{{/if}}></p>
                            <p>(default <code>false</code>) - Used with <code>offset</code> to cause the location to be offset locally to the effect’s rotation</p>
                            </label>
                            </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid units</strong>
                                <input type="checkbox" data-config="gridUnits"
                            data-type="boolean" {{#if node.config.gridUnits}}checked{{/if}}></p>
                            <p>(default <code>false</code>) - Used with <code>offset</code> to make each whole number represent in <code>x</code> and <code>y</code> to represent the effect’s scene’s grid size</p>
                        </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Template</strong>
                                <input type="checkbox" data-config="template"
                            data-type="boolean" {{#if node.config.template}}checked{{/if}}></p>
                            <p>Make the effect use the defined template in the Sequencer database. See <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/database-basics?id=why-templates-are-useful" target="_blank" rel="noopener">Why templates are useful</a>.</p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- STRETCH TO (child) --}}
                    {{#if (eq node.type "stretchTo")}}
                    <fieldset class="v-group">
                        <legend>Stretch To</legend>
                        <p><code>.stretchTo(object|string, object)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#f07178;"> → </span><span style="color:#89ddff;">attachTo</span>(<span style="color:#ff9cac;">token</span>)///

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Stretch To</span>(<span style="color:#ffcb6b;">"stored_name"</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Stretch To</span>(<span style="color:#ffcb6b;">token</span>, { <span style="color:#f78c6c;">tiling</span>: <span style="color:#ffcb6b;">true</span> }) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Stretch To</span>(<span style="color:#ffcb6b;">token</span>, { <span style="color:#f78c6c;">Only X</span>: <span style="color:#ffcb6b;">true</span>, <span style="color:#f78c6c;">Cache Location</span>: <span style="color:#ffcb6b;">true</span> }) ///
</code></pre>
<p>Causes the effect to be rotated and stretched towards the given token, template, coordinates, or a string reference (see <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=name"><code>Name node</code></a>). This effectively calculates the proper X scale for the effect to stretch to the target.</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
<select data-config="mode">
<option value="selected-target" {{#if (eq node.config.mode "selected-target"
                                )}}selected{{/if}}>Token target</option>
<option value="token-id" {{#if (eq node.config.mode "token-id"
                                )}}selected{{/if}}>Token ID</option>
<option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>
Tile ID</option>
<option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}>
Point (x,y)</option>
<option value="name" {{#if (eq node.config.mode "name" )}}selected{{/if}}>Stored
name</option>
</select>
</label>
</div>

                        <div class="v-field">
                    <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
                        <input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
                    </label>
                        </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
                            <input type="text" data-config="tileId" value="{{node.config.tileId}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinate X</strong></p>
                            <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinate Y</strong></p>
                            <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Stored Name</strong></p>
                            <input type="text" data-config="storedName" value="{{node.config.storedName}}">
                        </label>
                    </div>

                    <hr>

                    <p>Also supports a second options object that accepts:</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random Offset</strong></p>
                            <p>Causes the location to be offset by a random amount - if given a number, this acts as a multiplier for the randomness, using the size of the object (or a single grid square/hex) as the multiplier.</p>
                            <input type="number" data-config="randomOffset" data-type="number"
                                value="{{node.config.randomOffset}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset</strong></p>
                            <p>(default <code>{ x: 0, y: 0 }</code>) - causes the location to be offset by a set amount</p>
                        </label>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset X</strong></p>
                            <input type="number" data-config="offsetX" data-type="number"
                                value="{{node.config.offsetX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset Y</strong></p>
                            <input type="number" data-config="offsetY" data-type="number"
                                value="{{node.config.offsetY}}">
                        </label>
                    </div>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Cache Location</strong>
                            <input type="checkbox" data-config="cacheLocation"
                                data-type="boolean" {{#if node.config.cacheLocation}}checked{{/if}}></p>
                            <p>Causes the given object’s location to be cached immediately rather than retrieved during the Sequence’s runtime</p>
                            </label>
                            </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Attach To</strong>
                            <input type="checkbox" data-config="attachTo"
                                data-type="boolean" {{#if node.config.attachTo}}checked{{/if}}></p>
                            <p>Causes the effect to be attached to the target (combine with <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=attachto"><code>Attach To</code></a> for two-way bindings!)</p>
                                </label>
                    </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Only X</strong>
                            <input type="checkbox" data-config="onlyX" data-type="boolean"
                                {{#if node.config.onlyX}}checked{{/if}}></p>
                            <p>(default <code>false</code>) - Causes the effect to only stretch the X axis of the sprite towards the target (keeping Y at 1.0, or your given scale)</p>
                                </label>
                                </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tiling</strong>
                            <input type="checkbox" data-config="tiling" data-type="boolean"
                                {{#if node.config.tiling}}checked{{/if}}></p>
                            <p>(default <code>false</code>) - Causes the effect to tile its texture in the X axis of the effect. Combine with <code>attachTo</code> above to create the appearance of a rope binding two tokens together.</p>
                                </label>
                                </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Local</strong>
                            <input type="checkbox" data-config="local" data-type="boolean"
                                {{#if node.config.local}}checked{{/if}}></p>
                            <p>Used with <code>offset</code> to cause the location to be offset locally to the effect’s rotation</p>
                                </label>
                                </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Units</strong>
                            <input type="checkbox" data-config="gridUnits"
                                data-type="boolean" {{#if node.config.gridUnits}}checked{{/if}}></p>
                            <p>Used with <code>offset</code> to make each whole number represent in <code>x</code> and <code>y</code> to represent the effect’s scene’s grid size</p>
                            </label>
                            </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Requires Line of Sight</strong>
                            <input type="checkbox" data-config="requiresLineOfSight"
                                data-type="boolean" {{#if node.config.requiresLineOfSight}}checked{{/if}}></p>
                            <p>(requires <code>attachTo</code> to be true) - Causes the effect end prematurely if the line of sight from the source and target is broken.</p>
                            </label>
                            </div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Hide Line Of Sight</strong>
                            <input type="checkbox" data-config="hideLineOfSight"
                                data-type="boolean" {{#if node.config.hideLineOfSight}}checked{{/if}}></p>
                            <p>(requires <code>Requires Line of Sight</code> to be true) - Changes the behavior of <code>Requires Line of Sight</code> and causes the effect to be hidden while line of sight is broken</p>
                            </label>
                            </div>
                        </fieldset>
                        {{/if}}

                        {{!-- SPRITE OFFSET (child) --}}
                    {{#if (eq node.type "spriteOffset")}}
                        <fieldset class="v-group">
                    <legend>Sprite Offset</legend>
                    <p><code>.spriteOffset(inOffset, options)</code></p>
                    <p>Examples:</p>
                    <pre v-pre="" data-lang="js" class="language-js"><code><span style="color:#f07178;"> → </span><span style="color:#89ddff;">Sprite Offset</span>({ <span style="color:#f78c6c;">x</span>: <span style="color:#ffcb6b;">100</span>, <span style="color:#f78c6c;">y</span>: <span style="color:#ffcb6b;">-50</span> }) ///

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Sprite Offset</span>({ <span style="color:#f78c6c;">x</span>: <span style="color:#ffcb6b;">1</span> }, { <span style="color:#f78c6c;">Grid units</span>: <span style="color:#ffcb6b;">true</span> }) ///
</code></pre>
<p>This causes the effect’s <strong>sprite</strong> to be offset relative to its container based on a given vector. Sprite Offset is independent from <code>At Location node</code> and other location’s <code>offset</code> parameter.</p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset X</strong></p>
                            <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset Y</strong></p>
                            <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                        </label>
                    </div>

                    <hr>
                    <p>A second options parameter accepts the following properties:</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Units</strong>
                            <input type="checkbox" data-config="gridUnits"
                                data-type="boolean" {{#if node.config.gridUnits}}checked{{/if}}></p>
                                <p>( default <code>false</code>) - Whether the given values in x and y should be treated as the number of grids</p>
                                <p>Used with <code>offset</code> to make each whole number represent in <code>x</code> and <code>y</code> to represent the effect’s scene’s grid size</p>
                            </label></div>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Local</strong>
                            <input type="checkbox" data-config="local" data-type="boolean"
                                {{#if node.config.local}}checked{{/if}}></p>
                                <p>Used with <code>offset</code> to cause the location to be offset locally to the effect’s rotation</p>
                                </label>
                                </div>
                        </fieldset>
                        {{/if}}

                        {{!-- RANDOM SPRITE ROTATION (child) --}}
                    {{#if (eq node.type "randomSpriteRotation")}}
                        <fieldset class="v-group">
                    <legend>Random Sprite Rotation</legend>
                    <p><code>.randomSpriteRotation()</code></p>
                    <p>Causes the sprite to have a random rotation.</p>
                    <div class="v-field"><label><input type="checkbox" data-config="enabled" data-type="boolean"
                                {{#if node.config.enabled}}checked{{/if}}> enabled</label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- ZERO SPRITE ROTATION (child) --}}
                    {{#if (eq node.type "zeroSpriteRotation")}}
                        <fieldset class="v-group">
                    <legend>Zero Sprite Rotation</legend>
                    <p><code>.zeroSpriteRotation()</code> or <code>.zeroSpriteRotation(boolean)</code></p>
                    <p>Causes the effect to not rotate should its container (see <code>spriteContainer</code> in <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=animate-property">Animate Property</a>) rotate.</p>
                    <div class="v-field"><label><input type="checkbox" data-config="enabled" data-type="boolean"
                                {{#if node.config.enabled}}checked{{/if}}> enabled</label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- PERSIST (child) --}}
                    {{#if (eq node.type "persist")}}
                        <fieldset class="v-group">
                    <legend>Persist</legend>
                    <p><code>.persist()</code> or <code>.persist(boolean)</code> or <code>.persist(true, { persistTokenPrototype: true })</code></p>
                    <p>Calling this method will cause the effect to become permanent on the canvas. You can end the effect with the <a href="https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki/Sequencer-Effect-Manager" target="_blank" rel="noopener">Effect Manager</a>.</p>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Enabled</strong><input type="checkbox" data-config="enabled" data-type="boolean"
                                {{#if node.config.enabled}}checked{{/if}}></p></label></div>

                                <hr>
                                <p>Also supports a second options object that accepts:</p>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Persist Token Prototype</strong><input type="checkbox" data-config="persistTokenPrototype"
                                data-type="boolean" {{#if node.config.persistTokenPrototype}}checked{{/if}}></p>
                                <p>(default <code>false</code>) - makes the effect persist on the token’s prototype data, useful for active effect-linked VFX</p>
                            persistTokenPrototype</label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- TEMPORARY (child) --}}
                    {{#if (eq node.type "temporary")}}
                        <fieldset class="v-group">
                    <legend>Temporary</legend>
                    <p><code>.temporary()</code> or <code>.persist(boolean)</code></p>
                    <p>Calling this method will cause the effect to not set any flags if <code>Persist node</code> was called.</p>
                        </fieldset>
                        {{/if}}

                        {{!-- EXTRA END DURATION (child) --}}
                    {{#if (eq node.type "extraEndDuration")}}
                        <fieldset class="v-group">
                    <legend>Extra End Duration</legend>
                    <p><code>.extraEndDuration(inNumber)</code> or <code>.extraEndDuration(500)</code></p>
                    <p>This method only modifies <code>Persist node</code>end effects and causes them to not immediately end, but stick around for the given duration passed to this method.</p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                            <input type="number" data-config="duration" data-type="number"
                                value="{{node.config.duration}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- ORIGIN (child) --}}
                    {{#if (eq node.type "origin")}}
                        <fieldset class="v-group">
                    <legend>Origin</legend>
                    <p><code>.origin(inString)</code> or <code>.origin(document)</code></p>
                    <p>Takes a UUID string, or a Foundry Document that contains an UUID.</p>
                    <p>Used for adding extra information to an effect, like the origin of the effect in the form of the item’s UUID to then be retrieved or ended with <a href="https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki/Sequencer-Effect-Manager#get-effects" target="_blank" rel="noopener"><code>Sequencer.EffectManager.getEffects()</code></a> and <a href="https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki/Sequencer-Effect-Manager#end-effects" target="_blank" rel="noopener"><code>Sequencer.EffectManager.endEffects()</code></a></p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>UUID / Origin</strong></p>
                            <input type="text" data-config="origin" value="{{node.config.origin}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- NAME (child) --}}
                    {{#if (eq node.type "name")}}
                        <fieldset class="v-group">
                    <legend>Name</legend>
                    <p><code>.name(inString)</code></p>
                    <p>Causes the effect’s position to be stored and can then be used  with <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=at-location"><code>At Location node</code></a>, <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=stretch-to"><code>Stretch To node</code></a>, <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=rotate-towards"><code>Rotate Towards node</code></a>, and <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=move-towards"><code>Move Towards node</code></a> to refer to previous effects’ locations</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Name</strong></p>
                            <input type="text" data-config="name" value="{{node.config.name}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- PRIVATE (child) --}}
                    {{#if (eq node.type "private")}}
                        <fieldset class="v-group">
                    <legend>Private</legend>
                    <p><code>.private(boolean)</code></p>
                    <p>Causes the effect to not show up in the Effect Manager UI. <strong>DO NOT USE UNLESS YOU KNOW WHAT YOU ARE DOING.</strong></p>
                        {{/if}}

                        {{!-- MISSED (child) --}}
                    {{#if (eq node.type "missed")}}
                        <fieldset class="v-group">
                    <legend>Missed</legend>
                    <p><code>.missed()</code> or <code>.missed(boolean)</code></p>
                    <p>Calling this method will cause the effect to target a location close to the given location, but not on it. You can also pass <code>true</code> to it for greater readability, but simply calling it will do.</p>
                    <p>If a location has been picked with <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=at-location"><code>At Location node</code></a>, a random spot around that will be picked. If both <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=at-location"><code>At Location node</code></a> and either of <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=stretch-to"><code>Stretch To node</code></a> or <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=rotate-towards"><code>Rotate Towards node</code></a> a random location on the latter will be generated.</p>
                        {{/if}}

                        {{!-- SIZE (child) --}}
                    {{#if (eq node.type "size")}}
                        <fieldset class="v-group">
                    <legend>Size</legend>
                    <p><code>.size(200, options)</code> or <code>.size({ width: 200, height: 300 }, options)</code></p>
                    <p>Sets the width and the height of the effect in pixels, this size is set before any scaling.</p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Width</strong></p>
                            <input type="number" data-config="width" data-type="number"
                                value="{{node.config.width}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Height</strong></p>
                            <input type="number" data-config="height" data-type="number"
                                value="{{node.config.height}}">
                        </label>
                    </div>

                    <hr>

                    <p>A secondary options object may be passed to the method, which may contain:</p>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Units</strong><input type="checkbox" data-config="gridUnits"
                                data-type="boolean" {{#if node.config.gridUnits}}checked{{/if}}></p>
                                <p>(default <code>false</code>) - Causes the numbers given to the width and height to be counted as grid units, rather than pixel dimensions</p>
                            </label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- TEMPLATE OPTIONS (child) --}}
                    {{#if (eq node.type "templateOpts")}}
                        <fieldset class="v-group">
                    <legend>Template</legend>
                    <p><code>.template({ gridSize: 200, startPoint: 100, endPoint: 100 })</code></p>
                    <p>This multi-function method sets the grid size, start point, and end point of the effect.</p>
                    <p>Grid size <strong>is not the size of the grid in your scenes</strong>. If you have created an effect, it is the size of the effect’s internal grid. If you have created the effect for use.</p>
                    <p>Start point is the negative padding on the left-hand side of the effect, which will offset the effect “backwards” along its length. This is to compensate for when the starting point of the effect is actually “inside” of the effect.</p>
                    <p>End point is the same as the starting point, but inversely for the target of the effect. This will offset the effect “forward” along its length to account for it.</p>
                    <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/template_example.jpg" alt="JB2A template" class="medium-zoom-image"></p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Size</strong></p>
                            <input type="number" data-config="gridSize" data-type="number"
                                value="{{node.config.gridSize}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Start Point</strong></p>
                            <input type="number" data-config="startPoint" data-type="number"
                                value="{{node.config.startPoint}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>End Point</strong></p>
                            <input type="number" data-config="endPoint" data-type="number"
                                value="{{node.config.endPoint}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- SCALE (child) --}}
                    {{#if (eq node.type "scale")}}
                        <fieldset class="v-group">
                    <legend>Scale</legend>
                    <p><code>.scale(0.5)</code> or <code>.scale({ x: 0.5, y: 1.0 })</code> or <code>.scale(0.2, 0.6)</code></p>
                    <p>A method that can take the following:</p>
                    <ul><li>A number to set the scale uniformly</li><li>An object with x and y for non-uniform scaling</li><li>Two numbers which the Sequencer will randomly pick a uniform scale between</li></ul>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                            <select data-config="mode">
                                <option value="uniform" {{#if (eq node.config.mode "uniform" )}}selected{{/if}}>
                                    Uniform</option>
                                <option value="object" {{#if (eq node.config.mode "object" )}}selected{{/if}}>
                                    Object</option>
                                <option value="random" {{#if (eq node.config.mode "random" )}}selected{{/if}}>
                                    Random</option>
                            </select>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale (uniform)</strong></p>
                            <input type="number" data-config="scale" data-type="number"
                                value="{{node.config.scale}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale X</strong></p>
                            <input type="number" data-config="scaleX" data-type="number"
                                value="{{node.config.scaleX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale Y</strong></p>
                            <input type="number" data-config="scaleY" data-type="number"
                                value="{{node.config.scaleY}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>RAandom Minimum</strong></p>
                            <input type="number" data-config="min" data-type="number"
                                value="{{node.config.min}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random Maximum</strong></p>
                            <input type="number" data-config="max" data-type="number"
                                value="{{node.config.max}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- SCALE IN (child) --}}
                    {{#if (eq node.type "scaleIn")}}
                        <fieldset class="v-group">
                    <legend>Scale In</legend>
                    <p><code>.scaleIn(scale, duration, options)</code></p>
                    <p><code>.scaleIn(0.5, 250)</code> or <code>.scaleIn({ x: 0.5, y: 0.2 }, 500)</code> or <code>.scaleIn(0, 500, {ease: "easeOutCubic"})</code> or <code>.scaleIn(0, 500, {ease: "easeOutCubic", delay: 100})</code></p>
                    <p>Causes the effect to scale in when it starts playing.</p>
                    <p><strong>Note:</strong> This acts as a multiplier to <code>Scale Node</code>, meaning this method will <em>multiply</em> the effect’s current scale by the given value. If <code>Scale node</code> is set to <code>0.5</code>, and <code>Scale In node</code> is set to <code>2.0</code>, the effect’s effective scale will be <code>1.0</code> at the start of the <code>Scale In node</code> animation.</p>
                    <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>

                        <fieldset>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale</strong></p>
                    <p>The first parameter is the scale to scale from, which can be a number for uniform scale, or an object containing <code>x</code> and <code>y</code> parameters for the scale.</p>
                            <input type="number" data-config="scale" data-type="number"
                                value="{{node.config.scale}}">
                        </label>
                    </div>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale as Object</strong><input type="checkbox" data-config="isObject"
                                data-type="boolean" {{#if node.config.isObject}}checked{{/if}}></p></label></div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale X</strong></p>
                            <input type="number" data-config="scaleX" data-type="number"
                                value="{{node.config.scaleX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale Y</strong></p>
                            <input type="number" data-config="scaleY" data-type="number"
                                value="{{node.config.scaleY}}">
                        </label>
                    </div>
                        </fieldset>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                    <p>The second parameter is how many milliseconds the scale in will take.</p>
                            <input type="number" data-config="duration" data-type="number"
                                value="{{node.config.duration}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p><select data-config="ease">
                    <p>A third options parameter can set the ease of the scale, and the delay before it starts.</p>
                    <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank" rel="noopener">https://easings.net/</a></p>
            <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear</option>
            <option value="easeInSine" {{#if (eq node.config.ease "easeInSine" )}}selected{{/if}}>easeInSine</option>
            <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine" )}}selected{{/if}}>easeOutSine</option>
            <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine" )}}selected{{/if}}>easeInOutSine
            </option>
            <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad" )}}selected{{/if}}>easeInQuad</option>
            <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad" )}}selected{{/if}}>easeOutQuad</option>
            <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad" )}}selected{{/if}}>easeInOutQuad
            </option>
            <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic" )}}selected{{/if}}>easeInCubic</option>
            <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic" )}}selected{{/if}}>easeOutCubic
            </option>
            <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic" )}}selected{{/if}}>easeInOutCubic
            </option>
            <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart" )}}selected{{/if}}>easeInQuart</option>
            <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart" )}}selected{{/if}}>easeOutQuart
            </option>
            <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart" )}}selected{{/if}}>easeInOutQuart
            </option>
            <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint" )}}selected{{/if}}>easeInQuint</option>
            <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint" )}}selected{{/if}}>easeOutQuint
            </option>
            <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint" )}}selected{{/if}}>easeInOutQuint
            </option>
            <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo" )}}selected{{/if}}>easeInExpo</option>
            <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo" )}}selected{{/if}}>easeOutExpo</option>
            <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo" )}}selected{{/if}}>easeInOutExpo
            </option>
            <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc" )}}selected{{/if}}>easeInCirc</option>
            <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc" )}}selected{{/if}}>easeOutCirc</option>
            <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc" )}}selected{{/if}}>easeInOutCirc
            </option>
            <option value="easeInBack" {{#if (eq node.config.ease "easeInBack" )}}selected{{/if}}>easeInBack</option>
            <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack" )}}selected{{/if}}>easeOutBack</option>
            <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack" )}}selected{{/if}}>easeInOutBack
            </option>
            <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic" )}}selected{{/if}}>easeInElastic
            </option>
            <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic" )}}selected{{/if}}>easeOutElastic
            </option>
            <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic" )}}selected{{/if}}>
                easeInOutElastic</option>
            <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce" )}}selected{{/if}}>easeInBounce
            </option>
            <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce" )}}selected{{/if}}>easeOutBounce
            </option>
            <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce" )}}selected{{/if}}>
                easeInOutBounce</option>
        </select>
    </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                            <input type="number" data-config="delay" data-type="number"
                                value="{{node.config.delay}}">
                        </label>
                    </div>
                        </fieldset>

                        {{/if}}

                        {{!-- SCALE OUT (child) --}}
                    {{#if (eq node.type "scaleOut")}}
                        <fieldset class="v-group">
                    <legend>Scale Out</legend>
                    <p><code>.scaleOut(scale, duration, options)</code></p>
                    <p><code>.scaleOut(0.5, 250)</code> or <code>.scaleOut({ x: 0.5, y: 0.2 }, 500)</code> or <code>.scaleOut(0, 500, {ease: "easeOutCubic"})</code> or <code>.scaleOut(0, 500, {ease: "easeOutCubic", delay: 100})</code></p>
                    <p>Causes the effect to scale in when it finishes playing.</p>
                    <p><strong>Note:</strong> This acts as a multiplier to <code>Scale Node</code>, meaning this method will <em>multiply</em> the effect’s current scale by the given value. If <code>Scale node</code> is set to <code>0.5</code>, and <code>Scale Out node</code> is set to <code>2.0</code>, the effect’s effective scale will be <code>1.0</code> at the end of the <code>Scale Out node</code> animation.</p>
                    <p>Default parameters: <code>{ ease: "linear", delay: 0 }</code></p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale</strong></p>
                            <input type="number" data-config="scale" data-type="number"
                                value="{{node.config.scale}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale as Object</strong>
                        <input type="checkbox" data-config="isObject"
                                data-type="boolean" {{#if node.config.isObject}}checked{{/if}}>
                                </p>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale X</strong></p>
                            <input type="number" data-config="scaleX" data-type="number"
                                value="{{node.config.scaleX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale Y</strong></p>
                            <input type="number" data-config="scaleY" data-type="number"
                                value="{{node.config.scaleY}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                            <input type="number" data-config="duration" data-type="number"
                                value="{{node.config.duration}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p><select data-config="ease">
            <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear</option>
            <option value="easeInSine" {{#if (eq node.config.ease "easeInSine" )}}selected{{/if}}>easeInSine</option>
            <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine" )}}selected{{/if}}>easeOutSine</option>
            <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine" )}}selected{{/if}}>easeInOutSine
            </option>
            <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad" )}}selected{{/if}}>easeInQuad</option>
            <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad" )}}selected{{/if}}>easeOutQuad</option>
            <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad" )}}selected{{/if}}>easeInOutQuad
            </option>
            <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic" )}}selected{{/if}}>easeInCubic</option>
            <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic" )}}selected{{/if}}>easeOutCubic
            </option>
            <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic" )}}selected{{/if}}>easeInOutCubic
            </option>
            <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart" )}}selected{{/if}}>easeInQuart</option>
            <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart" )}}selected{{/if}}>easeOutQuart
            </option>
            <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart" )}}selected{{/if}}>easeInOutQuart
            </option>
            <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint" )}}selected{{/if}}>easeInQuint</option>
            <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint" )}}selected{{/if}}>easeOutQuint
            </option>
            <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint" )}}selected{{/if}}>easeInOutQuint
            </option>
            <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo" )}}selected{{/if}}>easeInExpo</option>
            <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo" )}}selected{{/if}}>easeOutExpo</option>
            <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo" )}}selected{{/if}}>easeInOutExpo
            </option>
            <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc" )}}selected{{/if}}>easeInCirc</option>
            <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc" )}}selected{{/if}}>easeOutCirc</option>
            <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc" )}}selected{{/if}}>easeInOutCirc
            </option>
            <option value="easeInBack" {{#if (eq node.config.ease "easeInBack" )}}selected{{/if}}>easeInBack</option>
            <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack" )}}selected{{/if}}>easeOutBack</option>
            <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack" )}}selected{{/if}}>easeInOutBack
            </option>
            <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic" )}}selected{{/if}}>easeInElastic
            </option>
            <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic" )}}selected{{/if}}>easeOutElastic
            </option>
            <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic" )}}selected{{/if}}>
                easeInOutElastic</option>
            <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce" )}}selected{{/if}}>easeInBounce
            </option>
            <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce" )}}selected{{/if}}>easeOutBounce
            </option>
            <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce" )}}selected{{/if}}>
                easeInOutBounce</option>
        </select>
    </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay (ms)</strong></p>
                            <input type="number" data-config="delay" data-type="number"
                                value="{{node.config.delay}}">
                        </label>
                    </div>

                        </fieldset>
                        {{/if}}

                        {{!-- SCALE TO OBJECT (child) --}}
                    {{#if (eq node.type "scaleToObject")}}
                        <fieldset class="v-group">
                    <legend>Scale To Object</legend>
                    <p><code>.scaleToObject()</code> or <code>.scaleToObject(1.5)</code> or <code>.scaleToObject(1.5, { uniform: true })</code></p>
                    <p>Causes the effect to be scaled to the target object’s grid dimensions - for example, if the target given in <code>At Location node</code> is a token, the effect will be scaled to fit within the token’s width and height.</p>
                    <p>A number be passed to the method, causing the effect to also scale uniformly (1.5 meaning 150% of the target object’s dimensions).</p>


                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Multiplier</strong></p>
                            <input type="number" data-config="multiplier" data-type="number"
                                value="{{node.config.multiplier}}">
                        </label>
                    </div>

                    <hr>
                    <p>A secondary options parameter can be passed as well, which accepts the following parameters:</p>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Uniform</strong><input type="checkbox" data-config="uniform" data-type="boolean"
                                {{#if node.config.uniform}}checked{{/if}}></p>
                                <p>(default <code>false</code>) - This causes the scaling to always be uniform, as it picks the largest dimension of the object</p></label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Consider token scale</strong><input type="checkbox" data-config="considerTokenScale"
                                data-type="boolean" {{#if node.config.considerTokenScale}}checked{{/if}}></p>
                                <p>(default <code>false</code>) - This causes the effect to also consider the token’s scale</p>
                            </label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- SPRITE SCALE (child) --}}
                    {{#if (eq node.type "spriteScale")}}
                        <fieldset class="v-group">
                    <legend>Sprite Scale</legend>
                    <p><code>.spriteScale(0.5)</code> or <code>.spriteScale({ x: 0.5, y: 1.0 })</code> or <code>.spriteScale(0.2, 0.6)</code></p>
                    <p>A method that scales the sprite directly (independently from <code>.scale()</code>) that take the following:</p>
                    <ul><li>A number to set the scale uniformly</li>
                    <li>An object with x and y for non-uniform scaling</li>
                    <li>Two numbers which the Sequencer will randomly pick a uniform scale between</li></ul>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                            <select data-config="mode">
                                <option value="uniform" {{#if (eq node.config.mode "uniform" )}}selected{{/if}}>
                                    Uniform</option>
                                <option value="object" {{#if (eq node.config.mode "object" )}}selected{{/if}}>
                                    Object</option>
                                <option value="random" {{#if (eq node.config.mode "random" )}}selected{{/if}}>
                                    Random</option>
                            </select>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale (uniform)</strong></p>
                            <input type="number" data-config="scale" data-type="number"
                                value="{{node.config.scale}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale X</strong></p>
                            <input type="number" data-config="scaleX" data-type="number"
                                value="{{node.config.scaleX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale Y</strong></p>
                            <input type="number" data-config="scaleY" data-type="number"
                                value="{{node.config.scaleY}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random minimum</strong></p>
                            <input type="number" data-config="min" data-type="number"
                                value="{{node.config.min}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random maximum</strong></p>
                            <input type="number" data-config="max" data-type="number"
                                value="{{node.config.max}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- ANCHOR (child) --}}
                    {{#if (eq node.type "anchor")}}
                        <fieldset class="v-group">
                    <legend>Anchor</legend>
                    <code>.anchor(string|number)</code>
                    <p>Sets the placement of the text’s location on the location.</p>
                    <p>You can either set this with Foundry’s native <code>CONST.TEXT_ANCHOR_POINTS</code>, or by giving it any of <code>CENTER</code>, <code>BOTTOM</code>, <code>TOP</code>, <code>LEFT</code>, or <code>RIGHT</code>.</p>
                    <p></p>
                    <p>For effects, anchors the sprite’s container according to the given x and y coordinates, or uniformly based on a single number.</p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                            <select data-config="mode">
                                <option value="uniform" {{#if (eq node.config.mode "uniform" )}}selected{{/if}}>
                                    Uniform</option>
                                <option value="object" {{#if (eq node.config.mode "object" )}}selected{{/if}}>
                                    Object</option>
                            </select>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor</strong></p>
                            <input type="number" data-config="anchor" data-type="number"
                                value="{{node.config.anchor}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor X</strong></p>
                            <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor Y</strong></p>
                            <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- SPRITE ANCHOR (child) --}}
                    {{#if (eq node.type "spriteAnchor")}}
                        <fieldset class="v-group">
                    <legend>Sprite Anchor</legend>
                    <p><code>.spriteAnchor({ x: 0.5, y: 0.5 })</code> or <code>.spriteAnchor(0.5)</code></p>
                    <p>Anchors the sprite itself according to the given x and y coordinates, or uniformly based on a single number. This happens within its container.</p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                            <select data-config="mode">
                                <option value="uniform" {{#if (eq node.config.mode "uniform" )}}selected{{/if}}>
                                    Uniform</option>
                                <option value="object" {{#if (eq node.config.mode "object" )}}selected{{/if}}>
                                    Object</option>
                            </select>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor</strong></p>
                            <input type="number" data-config="anchor" data-type="number"
                                value="{{node.config.anchor}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor X</strong></p>
                            <input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor Y</strong></p>
                            <input type="number" data-config="y" data-type="number" value="{{node.config.y}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- CENTER (child) --}}
                    {{#if (eq node.type "center")}}
                        <fieldset class="v-group">
                    <legend>Center</legend>
                    <p>Centers the sprite on the given location, effectively giving it an anchor of <code>{x: 0.5, y: 0.5}</code>.</p>
                    <p><strong>Note:</strong> If this is used, it will override the anchor set by Aim Towards, which sets the sprite’s anchor to the location the sprite is played at.</p>
                        </fieldset>
                        {{/if}}

                        {{!-- MIRROR (child) --}}
                    {{#if (eq node.type "mirror")}}
                        <fieldset class="v-group">
                    <legend>Mirror</legend>
                    <p><code>.mirrorX()</code> or <code>.mirrorX(bool)</code></p>
                    <p>Causes the sprite to have a flipped X or Y scale. You can also pass a boolean to set whether it should be mirrored.</p>
                    <p>This is applied at the end of all the other scaling effects, including <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=stretch-to"><code>Stretch To node</code></a> and <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=scale"><code>Scale node</code></a>.</p>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mirror X</strong></p><input type="checkbox" data-config="mirrorX" data-type="boolean"
                                {{#if node.config.mirrorX}}checked{{/if}}></label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mirror Y</strong></p><input type="checkbox" data-config="mirrorY" data-type="boolean"
                                {{#if node.config.mirrorY}}checked{{/if}}></label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Randomize Mirror X</strong></p><input type="checkbox" data-config="randomMirrorX"
                                data-type="boolean" {{#if node.config.randomMirrorX}}checked{{/if}}>
                            </label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Randomize Mirror Y</strong></p><input type="checkbox" data-config="randomMirrorY"
                                data-type="boolean" {{#if node.config.randomMirrorY}}checked{{/if}}>
                            </label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- SPRITE ROTATION (child) --}}
                    {{#if (eq node.type "spriteRotation")}}
                        <fieldset class="v-group">
                    <legend>Sprite Rotation</legend>
                    <p><code>.spriteRotation(90)</code></p>
                    <p>Sets the rotation of the effect, which is applied onto the effect sprite itself, in isolation of any offsets or rotations. Useful if <code>Rotate Towards node</code> caused your effect to be pointed in the right direction, but the effect by itself angled the wrong way.</p>
                    <p>The top part of this image has no sprite rotation, the bottom has sprite rotation set to 90.</p>
                    <p><img src="https://fantasycomputer.works/FoundryVTT-Sequencer/images/spriterotation.jpg" alt="" class="medium-zoom-image"></p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Rotation (º)</strong></p>
                            <input type="number" data-config="rotation" data-type="number"
                                value="{{node.config.rotation}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- RANDOM ROTATION (child) --}}
                    {{#if (eq node.type "randomRotation")}}
                        <fieldset class="v-group">
                    <legend>Random Rotation</legend>
                    <p><code>.randomRotation()</code></p>
                    <p>Causes the effect to have a random rotation, which means it should <strong>not</strong> be used with <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=stretch-to"><code>Stretch To node</code></a>.</p>
                        </fieldset>
                        {{/if}}

                        {{!-- PLAYBACK RATE (child) --}}
                    {{#if (eq node.type "playbackRate")}}
                        <fieldset class="v-group">
                    <legend>Playback Rate</legend>
                    <p><code>.playbackRate(2)</code> or <code>.playbackRate(0.5)</code></p>
                    <p>Sets the effect’s playback rate. A playback rate of 2 would make it play 2x as fast, 0.5 would make it play half as fast.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Rate</strong></p>
                            <input type="number" data-config="rate" data-type="number"
                                value="{{node.config.rate}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- BELOW TOKENS (child) --}}
                    {{#if (eq node.type "belowTokens")}}
                        <fieldset class="v-group">
                    <legend>Below Tokens</legend>
                    <p><code>.belowTokens()</code> or <code>.belowTokens(bool)</code></p>
                    <p>Causes the effect to be played below tokens - you can pass a boolean whether it should be applied or not.</p>
                        </fieldset>
                    {{/if}}

                        {{!-- BELOW TILES (child) --}}
                    {{#if (eq node.type "belowTiles")}}
                        <fieldset class="v-group">
                    <legend>Below Tiles</legend>
                    <p><code>.belowTiles()</code> or <code>.belowTiles(bool)</code></p>
                    <p>Causes the effect to be played below tiles - you can pass a boolean whether it should be applied or not.</p>
                        </fieldset>
                    {{/if}}

                        {{!-- ABOVE LIGHTING (child) --}}
                    {{#if (eq node.type "aboveLighting")}}
                        <fieldset class="v-group">
                    <legend>Above Lighting</legend>
                    <p><code>.aboveLighting()</code> or <code>.aboveLighting(bool)</code></p>
                    <p>Causes the effect to be played above the lighting layer, which makes the effect be visible over almost everything except weather effects and the interface (like health bars).</p>
                    <p>Note that if an effect is attached to an object via <code>Attach To node</code>, you may need to disable <code>bindVisibilty</code> if the object is hidden.</p>
                        </fieldset>
                    {{/if}}

                        {{!-- ABOVE INTERFACE (child) --}}
                    {{#if (eq node.type "aboveInterface")}}
                        <fieldset class="v-group">
                    <legend>Above Interface</legend>
                    <p><code>.aboveInterface()</code> or <code>.aboveInterface(bool)</code></p>
                    <p>Causes the effect to be played above the interface layer, which makes the effect be visible over everything in the canvas.</p>
                        </fieldset>
                    {{/if}}

                        {{!-- Z INDEX (child) --}}
                    {{#if (eq node.type "zIndex")}}
                        <fieldset class="v-group">
                    <legend>Z Index</legend>
                    <p><code>.zIndex(1)</code></p>
                    <p>Sets the z-index of the effect, potentially displaying it on top of or below other effects on the same elevation and sortLayer (v12 only).</p>
                    <p><strong>Note:</strong> If you have called <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=below-tokens"><code>Below Tokens node</code></a> or <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=below-tiles"><code>Below Tiles node</code></a>, the effect is placed on an entirely different layer, with its own z-index and will be sorted within that layer.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Z Index</strong></p>
                            <input type="number" data-config="zIndex" data-type="number"
                                value="{{node.config.zIndex}}">
                        </label>
                    </div>
                    </fieldset>
                    {{/if}}

                        {{!-- SHORT LAYER (child) --}}
                    {{#if (eq node.type "sortLayer")}}
                        <fieldset class="v-group">
                    <legend>Sort Layer</legend>
                    <h3><a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect?id=only-supported-in-foundry-v12" class="anchor"><span>Only supported in Foundry v12</span></a></h3>
                    <p><code>sortLayer(PrimaryCanvasGroup.SORT_LAYERS.WEATHER + 100)</code></p>
                    <p>Sets the sort layer of the effect. This value is used to determine layer ordering between entities of the same elevation. Foundry sorts canvas object first by elevation, second by their sortLayer and third by their z-index. Default is 800, which is above tokens and below weather effects.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Sort Layer</strong></p>
                            <input type="number" data-config="sortLayer" data-type="number"
                                value="{{node.config.sortLayer}}">
                        </label>
                    </div>
                        </fieldset>
                    {{/if}}

                        {{!-- ANIMATE PROPERTY (child) --}}
                    {{#if (eq node.type "animateProperty")}}
                        <fieldset class="v-group">
                    <legend>Animate Property</legend>
                    <p><code>.animateProperty(target, propertyName, options)</code></p>
                    <p>Examples:</p>
                    <pre v-pre="" data-lang="js" class="language-js"><code data-lang="js" class="language-js">.animateProperty("sprite", "position.x", {
    from: -200, to: 200, duration: 500

})
.animateProperty("sprite", "rotation", {
from: 0, to: 360, duration: 1500, ease: "easeInOutCubic"
})
.animateProperty("spriteContainer", "rotation", {
from: 0, to: 180, duration: 5000, delay: 500
})
.animateProperty("sprite", "position.x", {
from: 0, to: 1, duration: 1000, delay: 500, gridUnits: true
})
.animateProperty("sprite", "position.y", {
from: 1, to: 0, duration: 500, gridUnits: true, fromEnd: true
})</code></pre>
<p>Animates a property on the target of the animation.</p>
<p>Valid targets are <code>sprite</code> (the effect itself), <code>spriteContainer</code> (the effect’s container), and <code>effect</code> (the main container that contains every sprite relating to a single effect).</p>
<p>Animatable properties are as follows:</p>
<ul><li><p><code>sprite</code></p><ul>
<li><code>alpha</code></li>
<li><code>position.x</code></li>
<li><code>position.y</code></li>
<li><code>rotation</code> (degrees)</li>
<li><code>angle</code> (radians)</li>
<li><code>scale.x</code></li>
<li><code>scale.y</code></li>
<li><code>width</code></li>
<li><code>height</code></li>
<li><code>alpha</code></li></ul></li>
<li><p><code>spriteContainer</code></p><ul>
<li><code>position.x</code></li>
<li><code>position.y</code></li>
<li><code>rotation</code> (degrees)</li>
<li><code>angle</code> (radians)</li>
<li><code>scale.x</code></li>
<li><code>scale.y</code></li></ul></li>
<li><p><code>effect</code></p><ul>
<li><code>effectAlpha</code> (the alpha of the entire effect, and all of its components)</li>
<li><code>sourceOffset.x</code></li>
<li><code>sourceOffset.y</code></li>
<li><code>targetOffset.x</code></li>
<li><code>targetOffset.y</code></li></ul></li></ul>
<p>Default parameters: <pre><code>{ ease: "linear", delay: 0, gridUnits: false, fromEnd: false, absolute: false }</code></pre></p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Target</strong></p>
<input type="text" data-config="target" value="{{node.config.target}}">
</label>
</div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Property</strong></p>
                            <input type="text" data-config="property" value="{{node.config.property}}">
                        </label>
                    </div>

                    <hr>
                    <fieldset>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>From</strong></p>
                            <input type="number" data-config="from" data-type="number"
                                value="{{node.config.from}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>To</strong></p>
                            <input type="number" data-config="to" data-type="number" value="{{node.config.to}}">
                        </label>
                    </div>
                    </fieldset>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                            <input type="number" data-config="duration" data-type="number"
                                value="{{node.config.duration}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p>
                        <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank" rel="noopener">https://easings.net/</a></p><select data-config="ease">
            <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear</option>
            <option value="easeInSine" {{#if (eq node.config.ease "easeInSine" )}}selected{{/if}}>easeInSine</option>
            <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine" )}}selected{{/if}}>easeOutSine</option>
            <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine" )}}selected{{/if}}>easeInOutSine
            </option>
            <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad" )}}selected{{/if}}>easeInQuad</option>
            <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad" )}}selected{{/if}}>easeOutQuad</option>
            <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad" )}}selected{{/if}}>easeInOutQuad
            </option>
            <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic" )}}selected{{/if}}>easeInCubic</option>
            <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic" )}}selected{{/if}}>easeOutCubic
            </option>
            <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic" )}}selected{{/if}}>easeInOutCubic
            </option>
            <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart" )}}selected{{/if}}>easeInQuart</option>
            <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart" )}}selected{{/if}}>easeOutQuart
            </option>
            <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart" )}}selected{{/if}}>easeInOutQuart
            </option>
            <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint" )}}selected{{/if}}>easeInQuint</option>
            <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint" )}}selected{{/if}}>easeOutQuint
            </option>
            <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint" )}}selected{{/if}}>easeInOutQuint
            </option>
            <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo" )}}selected{{/if}}>easeInExpo</option>
            <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo" )}}selected{{/if}}>easeOutExpo</option>
            <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo" )}}selected{{/if}}>easeInOutExpo
            </option>
            <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc" )}}selected{{/if}}>easeInCirc</option>
            <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc" )}}selected{{/if}}>easeOutCirc</option>
            <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc" )}}selected{{/if}}>easeInOutCirc
            </option>
            <option value="easeInBack" {{#if (eq node.config.ease "easeInBack" )}}selected{{/if}}>easeInBack</option>
            <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack" )}}selected{{/if}}>easeOutBack</option>
            <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack" )}}selected{{/if}}>easeInOutBack
            </option>
            <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic" )}}selected{{/if}}>easeInElastic
            </option>
            <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic" )}}selected{{/if}}>easeOutElastic
            </option>
            <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic" )}}selected{{/if}}>
                easeInOutElastic</option>
            <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce" )}}selected{{/if}}>easeInBounce
            </option>
            <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce" )}}selected{{/if}}>easeOutBounce
            </option>
            <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce" )}}selected{{/if}}>
                easeInOutBounce</option>
        </select>
    </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay</strong></p>
                            <input type="number" data-config="delay" data-type="number"
                                value="{{node.config.delay}}">
                        </label>
                    </div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>From End</strong><input type="checkbox" data-config="fromEnd" data-type="boolean"
                                {{#if node.config.fromEnd}}checked{{/if}}></p>
                                <p>The <code>fromEnd</code> optional parameter will play the animation a number of milliseconds equal to the <code>duration</code> from the end of the effect’s duration.</p>
                    </label></div>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Absolute</strong><input type="checkbox" data-config="absolute"
                                data-type="boolean" {{#if node.config.absolute}}checked{{/if}}></p>
                                <p>The <code>absolute</code> property ensures that the values that this animation is playing will not be additive, eg; if you animate the width of an effect from 0 to 200 pixels, not enabling <code>absolute</code> will cause the animation add on top of the effect’s existing width. With <code>absolute</code> enabled, it will force it to play between 0 to 200px, regardless of its starting width.</p></label>
                    </div>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Units</strong><input type="checkbox" data-config="gridUnits"
                                data-type="boolean" {{#if node.config.gridUnits}}checked{{/if}}></p>
                            <p>Grid units will work if you are animating the <code>width</code>, <code>height</code>, <code>position.x</code>, or <code>position.y</code>.</p>

                            </label></div>

                    <p>For example, the duration of an effect is 5000ms, and you have added an animation that will animate the <code>position.y</code> property on a sprite from 1 to 0 in <code>gridUnits</code> with a duration of 1000ms and <code>fromEnd</code> set to true - the animation will then start playing at 4000ms into the effect’s duration, and finish exactly at the same time as the effect ends.</p>

                        </fieldset>
                        {{/if}}

                        {{!-- LOOP PROPERTY (child) --}}
                    {{#if (eq node.type "loopProperty")}}
                        <fieldset class="v-group">
                    <legend>Loop Property</legend>
                    <p><code>.loopProperty(target, propertyName, options)</code></p>
                    <p>Examples:</p>
                    <pre v-pre="" data-lang="js" class="language-js"><code data-lang="js" class="language-js">.loopProperty("sprite", "position.x", {
    from: -200, to: 200, duration: 500

})
.loopProperty("sprite", "rotation", {
from: 0, to: 360, duration: 1500
})
.loopProperty("spriteContainer", "rotation", {
from: 0, to: 180, duration: 5000, delay: 500
})
.loopProperty("sprite", "position.x", {, 
values: [0, -180, 180, -90, 90], duration: 2000, pingPong: true
})</code></pre>
<p>Loops a property on the target of the animation.</p>
<p><code>options.pingPong</code> sets whether loop should interpolate to the first value after it reaches the last value, or simply set it to the first value.</p>
<p><code>options.values</code> is an alternative to <code>options.from</code> and <code>options.to</code> - it must be an array of values to interpolate between.</p>
<p>Valid targets are <code>sprite</code> (the effect itself), <code>spriteContainer</code> (the effect’s container), and <code>effect</code> (the main container that contains every sprite relating to a single effect).</p>
<p>Animatable properties are as follows:</p>
<ul><li><p><code>sprite</code></p><ul>
<li><code>alpha</code></li>
<li><code>position.x</code></li>
<li><code>position.y</code></li>
<li><code>rotation</code> (degrees)</li>
<li><code>angle</code> (radians)</li>
<li><code>scale.x</code></li>
<li><code>scale.y</code></li>
<li><code>width</code></li>
<li><code>height</code></li>
<li><code>alpha</code></li></ul></li>
<li><p><code>spriteContainer</code></p><ul>
<li><code>position.x</code></li>
<li><code>position.y</code></li>
<li><code>rotation</code> (degrees)</li>
<li><code>angle</code> (radians)</li>
<li><code>scale.x</code></li>
<li><code>scale.y</code></li></ul></li>
<li><p><code>effect</code></p><ul>
<li><code>effectAlpha</code> (the alpha of the entire effect, and all of its components)</li>
<li><code>sourceOffset.x</code></li>
<li><code>sourceOffset.y</code></li>
<li><code>targetOffset.x</code></li>
<li><code>targetOffset.y</code></li></ul></li></ul>
<p>Default parameters: <pre><code>{ loops: 0, ease: "linear", delay: 0, pingPong: false, gridUnits: false }</code></pre></p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Target</strong></p>
                            <input type="text" data-config="target" value="{{node.config.target}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Loops</strong></p>
                            <input type="number" data-config="loops" data-type="number"
                                value="{{node.config.loops}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Property</strong></p>
                            <input type="text" data-config="property" value="{{node.config.property}}">
                        </label>
                    </div>
                    <label>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>From</strong></p>
                            <input type="number" data-config="from" data-type="number"
                                value="{{node.config.from}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>To</strong></p>
                            <input type="number" data-config="to" data-type="number" value="{{node.config.to}}">
                        </label>
                    </div>
                    </label>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration</strong></p>
                            <input type="number" data-config="duration" data-type="number"
                                value="{{node.config.duration}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ease</strong></p>
                        <p>Check out what easings are available here: <a href="https://easings.net/" target="_blank" rel="noopener">https://easings.net/</a></p><select data-config="ease">
            <option value="linear" {{#if (eq node.config.ease "linear" )}}selected{{/if}}>linear</option>
            <option value="easeInSine" {{#if (eq node.config.ease "easeInSine" )}}selected{{/if}}>easeInSine</option>
            <option value="easeOutSine" {{#if (eq node.config.ease "easeOutSine" )}}selected{{/if}}>easeOutSine</option>
            <option value="easeInOutSine" {{#if (eq node.config.ease "easeInOutSine" )}}selected{{/if}}>easeInOutSine
            </option>
            <option value="easeInQuad" {{#if (eq node.config.ease "easeInQuad" )}}selected{{/if}}>easeInQuad</option>
            <option value="easeOutQuad" {{#if (eq node.config.ease "easeOutQuad" )}}selected{{/if}}>easeOutQuad</option>
            <option value="easeInOutQuad" {{#if (eq node.config.ease "easeInOutQuad" )}}selected{{/if}}>easeInOutQuad
            </option>
            <option value="easeInCubic" {{#if (eq node.config.ease "easeInCubic" )}}selected{{/if}}>easeInCubic</option>
            <option value="easeOutCubic" {{#if (eq node.config.ease "easeOutCubic" )}}selected{{/if}}>easeOutCubic
            </option>
            <option value="easeInOutCubic" {{#if (eq node.config.ease "easeInOutCubic" )}}selected{{/if}}>easeInOutCubic
            </option>
            <option value="easeInQuart" {{#if (eq node.config.ease "easeInQuart" )}}selected{{/if}}>easeInQuart</option>
            <option value="easeOutQuart" {{#if (eq node.config.ease "easeOutQuart" )}}selected{{/if}}>easeOutQuart
            </option>
            <option value="easeInOutQuart" {{#if (eq node.config.ease "easeInOutQuart" )}}selected{{/if}}>easeInOutQuart
            </option>
            <option value="easeInQuint" {{#if (eq node.config.ease "easeInQuint" )}}selected{{/if}}>easeInQuint</option>
            <option value="easeOutQuint" {{#if (eq node.config.ease "easeOutQuint" )}}selected{{/if}}>easeOutQuint
            </option>
            <option value="easeInOutQuint" {{#if (eq node.config.ease "easeInOutQuint" )}}selected{{/if}}>easeInOutQuint
            </option>
            <option value="easeInExpo" {{#if (eq node.config.ease "easeInExpo" )}}selected{{/if}}>easeInExpo</option>
            <option value="easeOutExpo" {{#if (eq node.config.ease "easeOutExpo" )}}selected{{/if}}>easeOutExpo</option>
            <option value="easeInOutExpo" {{#if (eq node.config.ease "easeInOutExpo" )}}selected{{/if}}>easeInOutExpo
            </option>
            <option value="easeInCirc" {{#if (eq node.config.ease "easeInCirc" )}}selected{{/if}}>easeInCirc</option>
            <option value="easeOutCirc" {{#if (eq node.config.ease "easeOutCirc" )}}selected{{/if}}>easeOutCirc</option>
            <option value="easeInOutCirc" {{#if (eq node.config.ease "easeInOutCirc" )}}selected{{/if}}>easeInOutCirc
            </option>
            <option value="easeInBack" {{#if (eq node.config.ease "easeInBack" )}}selected{{/if}}>easeInBack</option>
            <option value="easeOutBack" {{#if (eq node.config.ease "easeOutBack" )}}selected{{/if}}>easeOutBack</option>
            <option value="easeInOutBack" {{#if (eq node.config.ease "easeInOutBack" )}}selected{{/if}}>easeInOutBack
            </option>
            <option value="easeInElastic" {{#if (eq node.config.ease "easeInElastic" )}}selected{{/if}}>easeInElastic
            </option>
            <option value="easeOutElastic" {{#if (eq node.config.ease "easeOutElastic" )}}selected{{/if}}>easeOutElastic
            </option>
            <option value="easeInOutElastic" {{#if (eq node.config.ease "easeInOutElastic" )}}selected{{/if}}>
                easeInOutElastic</option>
            <option value="easeInBounce" {{#if (eq node.config.ease "easeInBounce" )}}selected{{/if}}>easeInBounce
            </option>
            <option value="easeOutBounce" {{#if (eq node.config.ease "easeOutBounce" )}}selected{{/if}}>easeOutBounce
            </option>
            <option value="easeInOutBounce" {{#if (eq node.config.ease "easeInOutBounce" )}}selected{{/if}}>
                easeInOutBounce</option>
        </select>
    </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Delay</strong></p>
                            <input type="number" data-config="delay" data-type="number"
                                value="{{node.config.delay}}">
                        </label>
                    </div>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ping Pong</strong><input type="checkbox" data-config="pingPong"
                                data-type="boolean" {{#if node.config.pingPong}}checked{{/if}}></p></label>
                    </div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Grid Units</strong><input type="checkbox" data-config="gridUnits"
                                data-type="boolean" {{#if node.config.gridUnits}}checked{{/if}}></p>
                                <p>Grid units will work if you are animating the <code>width</code>, <code>height</code>, <code>position.x</code>, or <code>position.y</code>.</p>
                                </label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- FILTER (child) --}}
                    {{#if (eq node.type "filter")}}
                        <fieldset class="v-group">
                    <legend>Filter</legend>
                    <p><code>.filter(string, object)</code></p>
                    <p>Examples:</p>
                    <ul><li><code>.filter("ColorMatrix", { hue: 100 })</code></li><li><code>.filter("Glow", { color: 0xFF0000 })</code></li><li><code>.filter("Blur", { blurX: 5, blurY: 10 })</code></li></ul>
                    <p>This method adds a filter to the effect that is playing. Filters are listed <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/filter">here</a>.</p>
                    <p>You may “stack” multiple filters on top of each other, and they will work in concert with each other.</p>
                    <p><strong>Note:</strong> These filters only work on <a href="https://fantasycomputer.works/FoundryVTT-Sequencer/#/api/effect/effect?id=filter">effects</a></p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Filter Name</strong></p>
                            <select data-config="filter">
<option value="" {{#unless node.config.type}}selected{{/unless}}>-</option>
            <option value="ColorMatrix" {{#if (eq node.config.filter "ColorMatrix" )}}selected{{/if}}>Color Matrix</option>
            <option value="Glow" {{#if (eq node.config.filter "Glow" )}}selected{{/if}}>Glow</option>
            <option value="Blur" {{#if (eq node.config.filter "Blur" )}}selected{{/if}}>Blur</option>
                        </select>
                        </label>                        
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Options (JSON)</strong></p>
                            <textarea data-config="options" rows="6" style="color: white;">{{node.config.options}}</textarea>
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- TEXT (child) --}}
                    {{#if (eq node.type "text")}}
                        <fieldset class="v-group">
                    <legend>Text</legend>
                    <code>.text(string, options)</code>
                    <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">{
    <span style="color:#f07178;">"fill"</span>: <span style="color:#ffcb6b;">'white',</span>
    <span style="color:#f07178;">"fontFamily"</span>: <span style="color:#ffcb6b;">'Arial',</span>
    <span style="color:#f07178;">"fontSize": 32</span>,
    <span style="color:#f07178;">"stroke": {
        color:  '#4a1850',
        width: 5
    },</span>
    <span style="color:#f07178;">"dropShadow": {
        color:  '#000000',
        blur: 4,
        distance: 6,
        angle: Math.PI / 6
    },</span>
    <span style="color:#f07178;">"wordWrap": <span style="color:#ffcb6b;">true</span>,
    <span style="color:#f07178;">"wordWrapWidth": 440</span>,
    <span style="color:#f07178;">"lineHeight": 40</span>,
    <span style="color:#f07178;">"align"</span>: <span style="color:#ffcb6b;">'center'</span></span>

}

<span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Scrolling Text</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">At Location</span> (<span style="color:#ffcb6b;">Token</span>)<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Text</span> (Example <span style="color:#ffcb6b;">"My Text", <span style="color:#ffcb6b;">Fill: Red</span> | <span style="color:#ffcb6b;">Font Family: Arial black</span> | <span style="color:#ffcb6b;">Font Size: 28</span> | <span style="color:#ffcb6b;">Stroke Thickness: 4</span>)<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span>
</code></pre>
<p>Sets the text and styling of the scrolling text.</p>
<p><a></a><a href="https://pixijs.com/8.x/guides/components/scene-objects/text/style" target="_blank"
                            rel="noopener">https://pixijs.com/8.x/guides/components/scene-objects/text/style</a></p>
<p>(Sequencer's wiki page about Text styling is outdated, that's why this link is changed.)</p>
<p>Use the JSON object as the options parameter for <code>.text()</code>, there is no need for you as user to create a <code>constant</code>, the module does this automatically for every single <code>Text Node</code> you create</p>
<p>Lastly, this node has priority over the <code>Scrolling Text Node</code>'s own text, so if you write any text on this node and on the <code>Scrolling Text</code>'s dialog, only the <code>Text Node</code>'s text will appear on the final macro.</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Text</strong></p>
<input type="text" data-config="text" value="{{node.config.text}}">
</label>
</div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Style (JSON)</strong></p>
                            <textarea data-config="style" rows="6" style="color: white;">{{node.config.style}}</textarea>
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- SHAPE (child) --}}
                    {{#if (eq node.type "shape")}}
                        <fieldset class="v-group">
                    <legend>Shape</legend>
                    <p><code>.shape(inType, inOptions)</code></p>
                    <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Effect</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Attach To</span> (<span style="color:#ffcb6b;">Token</span>)<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Persist</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Shape</span> (<span style="color:#ffcb6b;">"circle"</span>, {<span style="color:#ffcb6b;">lineSize: 4</span>, <span style="color:#ffcb6b;">lineColor: "#FF0000"</span>, <span style="color:#ffcb6b;">radius: 1.5</span>, <span style="color:#ffcb6b;">gridUnits: true</span>, <span style="color:#ffcb6b;">name: "test"</span>})<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Loop Property</span> (<span style="color:#ffcb6b;">"shapes.test"</span>, <span style="color:#ffcb6b;">"scale.x"</span>, {<span style="color:#ffcb6b;">from: 0.9</span>, <span style="color:#ffcb6b;">to: 1.1</span>, <span style="color:#ffcb6b;">duration: 1000</span>, <span style="color:#ffcb6b;">pingPong: true</span>, <span style="color:#ffcb6b;">ease: "easeInOutSine"</span>, <span style="color:#ffcb6b;">name: "test"</span>})<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Loop Property</span> (<span style="color:#ffcb6b;">"shapes.test"</span>, <span style="color:#ffcb6b;">"scale.y"</span>, {<span style="color:#ffcb6b;">from: 0.9</span>, <span style="color:#ffcb6b;">to: 1.1</span>, <span style="color:#ffcb6b;">duration: 1000</span>, <span style="color:#ffcb6b;">pingPong: true</span>, <span style="color:#ffcb6b;">ease: "easeInOutSine"</span>, <span style="color:#ffcb6b;">name: "test"</span>})<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span></code></pre>
<p>Creates a graphics element, attached to the effect.</p>
                    <p>The optional options are as follows:</p>
                    <ul><li><code>radius</code>: <code>number</code> - The radius of <code>circle</code> shapes, and the radius of the <code>roundedRect</code> edges</li>
                    <li><code>width</code>: <code>number</code> - The width of <code>rectangle</code>, <code>ellipse</code>, and <code>roundedRect</code> shapes</li>
                    <li><code>height</code>: <code>number</code> - The height of <code>rectangle</code>, <code>ellipse</code>, and <code>roundedRect</code> shapes</li>
                    <li><code>points</code>: <code>Array&lt;[number, number]|{ x: number, y: number}&gt;</code> - The points of a <code>polygon</code> object</li>
                    <li><code>gridUnits</code>: <code>boolean</code> - Whether the positions or height/width should be considered grid units (1 = one grid on the canvas grid)</li>
                    <li><code>name</code>: <code>string</code> - What name to give this shape, which can be used with <code>Animate Property node</code> and <code>Loop Property node</code> through <code>shapes.[name]</code></li>
                    <li><code>fillColor</code>: <code>string|number</code> - The fill color of the shape, must be decimal (<code>0xFF0000</code>) or hexadecimal (<code>"#FF000000"</code>)</li>
                    <li><code>fillAlpha</code>: <code>number</code> - The alpha of the fill color</li><li><code>alpha</code>: <code>number</code> - The alpha of the entire shape</li>
                    <li><code>lineSize</code>: <code>number</code> - The size of the outline of the shape (in pixels)</li>
                    <li><code>lineColor</code>: <code>string|number</code> - The color of the outline of the shape, must be decimal (<code>0xFF0000</code>) or hexadecimal (<code>"#FF000000"</code>)</li>
                    <li><code>offset</code>: <code>object</code> - An object containing the offset of this shape, with <code>x</code> and <code>y</code> determining the offset. You can set this to be based on grid units by supplying <code>offset.gridUnits</code> to it.</li>
                    <li><code>anchor</code>: <code>object</code> - An object containing the anchor of this shape, with <code>x</code> and <code>y</code> determining the anchor.</li>
                    <li><code>isMask</code>: <code>boolean</code> - Whether this shape should be considered a mask. This will make it invisible, and <code>options.name</code> will not be considered (animating masks is VERY expensive, thus a no-go).</li></ul>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Type</strong></p>
                            <select data-config="type">
<option value="" {{#unless node.config.type}}selected{{/unless}}>-</option>
            <option value="polygon" {{#if (eq node.config.type "polygon" )}}selected{{/if}}>Polygon</option>
            <option value="rectangle" {{#if (eq node.config.type "rectangle" )}}selected{{/if}}>Rectangle</option>
            <option value="circle" {{#if (eq node.config.type "circle" )}}selected{{/if}}>Circle</option>
            <option value="ellipse" {{#if (eq node.config.type "ellipse" )}}selected{{/if}}>Ellipse</option>
            <option value="roundedRect" {{#if (eq node.config.type "roundedRect" )}}selected{{/if}}>Rounded Rectangle</option>
                        </select>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Options (JSON)</strong></p>
                            <textarea data-config="options" rows="6" style="color: white;">{{node.config.options}}</textarea>
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- XRAY (child) --}}
                    {{#if (eq node.type "xray")}}
                        <fieldset class="v-group">
                    <legend>XRay</legend>
                    <p><code>.xray()</code> or <code>.xray(boolean)</code></p>
                    <p>Causes the effect to ignore vision-based masking.</p>
                        {{/if}}

                        {{!-- MASK (child) --}}
                    {{#if (eq node.type "mask")}}
                        <fieldset class="v-group">
                    <legend>Mask</legend>
                    <p><code>.mask()</code> or <code>.mask(token)</code> or <code>.mask([list, of, objects])</code></p>
                    <p>Masks the effect to the given object or objects. If no object is given, the effect will be masked to the source of the effect.</p>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
                            <select data-config="mode">
<option value="" {{#unless node.config.type}}selected{{/unless}}>-</option>
                                <option value="source" {{#if (eq node.config.mode "source" )}}selected{{/if}}>
                                    Source</option>
                                <option value="ids" {{#if (eq node.config.mode "ids" )}}selected{{/if}}>IDs
                                </option>
                            </select>
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>IDs (with comma separated)</strong></p>
                            <input type="text" data-config="ids" value="{{node.config.ids}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- TIE TO DOCUMENTS (child) --}}
                    {{#if (eq node.type "tieToDocuments")}}
                        <fieldset class="v-group">
                    <legend>Tie To Documents</legend>
                    <p><code>.tieToDocuments(token)</code> or <code>.tieToDocuments([ActiveEffect, Token])</code></p>
                    <p>Ties the effect to any number of documents in Foundry - if those get deleted, the effect is ended.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>UUIDs (comma separated)</strong></p>
                            <input type="text" data-config="uuids" value="{{node.config.uuids}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- SYNC GROUP (child) --}}
                    {{#if (eq node.type "syncGroup")}}
                        <fieldset class="v-group">
                    <legend>Sync Group</legend>
                    <p><code>.syncGroup(string)</code> or <code>.syncGroup("test")</code></p>
                    <p>Causes effects with this sync group to share the same start time - useful if you have multiple duplicated effects that need to play at the same time.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Name</strong></p>
                            <input type="text" data-config="name" value="{{node.config.name}}">
                        </label>
                    </div>
                        </fieldset>
                        {{/if}}

                        {{!-- ISOMETRIC (child) --}}
                    {{#if (eq node.type "isometric")}}
                        <fieldset class="v-group">
                    <legend>Isometric</legend>
                    <p><code>.isometric(inObject)</code> or <code>.isometric({ overlay: true })</code></p>
                    <p>If the Isometric module is installed and active, this causes the effect to play not on the floor under the target, but on the same plane as the target - ie, flat on the screen as if top down.</p>
                    <div class="v-field"><label><input type="checkbox" data-config="overlay" data-type="boolean"
                                {{#if node.config.overlay}}checked{{/if}}> overlay</label></div>
                        </fieldset>
                        {{/if}}

                        {{!-- SCREEN SPACE (child) --}}
                    {{#if (eq node.type "screenSpace")}}
                        <fieldset class="v-group">
                    <legend>Screen Space</legend>
                    <p><code>.screenSpace()</code> or <code>.screenSpace(boolean)</code></p>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Screen Space</strong><input type="checkbox" data-config="screenSpace"
                                data-type="boolean" {{#if node.config.screenSpace}}checked{{/if}}>
                            </p>
                    <p>Causes the effect to be played in screen space instead of world space (where tokens are).</p></label></div>
                            <hr>
                    <p><code>.screenSpaceAboveUI()</code> or <code>.screenSpaceAboveUI(boolean)</code></p>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Screen Space Above UI</strong><input type="checkbox" data-config="aboveUI" data-type="boolean"
                                {{#if node.config.aboveUI}}checked{{/if}}> </p>
                    <p>If <code>Screen Space</code> has been used, this will cause the effect to be played above all elements in Foundry.</p></label></div>
                    
                            <hr>
                    <p><code>.screenSpaceAnchor({ x: 1, y: 0.5 })</code> or <code>.screenSpaceAnchor(0.5)</code></p>
                    <p>Anchors the effect to the screen (X being 0 means sticking to the left, 1 means sticking to the right side), or uniformly based on a single number in screen space.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor X</strong></p>
                            <input type="number" data-config="anchorX" data-type="number"
                                value="{{node.config.anchorX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor Y</strong></p>
                            <input type="number" data-config="anchorY" data-type="number"
                                value="{{node.config.anchorY}}">
                        </label>
                    </div>
                    
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Anchor Uniform</strong></p>
                            <input type="number" data-config="anchor" data-type="number"
                                value="{{node.config.anchor}}">
                        </label>
                    </div>
                    
                            <hr>
                    <p><code>.screenSpacePosition({ x: 0, y: 0 })</code></p>
                    <p>Positions the effect in a screen space position, offset from its <code>Screen Space Anchor</code>.</p>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Position X</strong></p>
                            <input type="number" data-config="posX" data-type="number"
                                value="{{node.config.posX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>POsition X</strong></p>
                            <input type="number" data-config="posY" data-type="number"
                                value="{{node.config.posY}}">
                        </label>
                    </div>
                    
                            <hr>
                    <p><code>.screenSpaceScale(object)</code></p>
                    <p>Sets up various properties relating to scale of the effect on the screen. Accepts the following options:</p>
                    
                    <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">{
  <span style="color:#f07178;">x: 1.0,                        
  y: 1.0,                        
  fitX: false,                        
  fitY: false,                        
  ratioX: false,                        
  ratioY: false</span>                        
}</code></pre>
                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale X</strong></p>
                            <input type="number" data-config="scaleX" data-type="number"
                                value="{{node.config.scaleX}}">
                        </label>
                    </div>

                    <div class="v-field">
                        <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale Y</strong></p>
                            <input type="number" data-config="scaleY" data-type="number"
                                value="{{node.config.scaleY}}">
                        </label>
                    </div>

                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Fit X</strong><input type="checkbox" data-config="fitX" data-type="boolean"
                                {{#if node.config.fitX}}checked{{/if}}> </p></label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Fit Y</strong><input type="checkbox" data-config="fitY" data-type="boolean"
                                {{#if node.config.fitY}}checked{{/if}}> </p></label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ratio X</strong><input type="checkbox" data-config="ratioX" data-type="boolean"
                                {{#if node.config.ratioX}}checked{{/if}}> </p></label></div>
                    <div class="v-field"><label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Ratio Y</strong><input type="checkbox" data-config="ratioY" data-type="boolean"
                                {{#if node.config.ratioY}}checked{{/if}}> </p></label></div>
                        </fieldset>
                        {{/if}}

                    {{!-- RADIUS (sound child) --}}
                    {{#if (eq node.type "radius")}}
                    <fieldset class="v-group">
                        <legend>Radius</legend>
                        <p><code>.radius(inNumber)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Radius</span> (<span style="color:#ffcb6b;">15</span>) ///
</code></pre>
<p>Radius in number of feet (or other units) this sound will be played within. The distance is determined by the scene’s Grid Scale.</p>
<p><strong>Note:</strong> Requires <code>At Location Node</code> to be called as well, or the sound will still be global.</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Radius (scene units)</strong></p>
<input type="number" data-config="radius" data-type="number"
                            value="{{node.config.radius}}">
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- CONSTRAINED BY WALLS (sound child) --}}
                    {{#if (eq node.type "constrainedByWalls")}}
                    <fieldset class="v-group">
                        <legend>Constrained By Walls</legend>
                        <p><code>.constrainedByWalls(inBool)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span><span style="color:#89ddff;">Constrained By Walls</span> (<span style="color:#ffcb6b;">true</span>) ///

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Constrained By Walls</span> (<span style="color:#ffcb6b;">false</span>) ///
</code></pre>
<p>Whether the sound will be <strong>completely</strong> blocked by walls.</p>
<p><strong>Notes:</strong></p>
<ul><li>Defaults to <code>false</code></li>
<li>Requires <code>At Location node</code> to be called as well, or the sound will still be global.</li>
<li>If set to <code>true</code>, <code>.Muffled Effect node</code> will have no effect</li></ul>
</fieldset>
{{/if}}

                    {{!-- DISTANCE EASING (sound child) --}}
                    {{#if (eq node.type "distanceEasing")}}
                    <fieldset class="v-group">
                        <legend>Distance Easing</legend>
                        <p><code>.distanceEasing(inBool)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;">Distance Easing</span> (<span style="color:#ffcb6b;">true</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Distance Easing</span> (<span style="color:#ffcb6b;">false</span>) ///
</code></pre>
<p>Whether the sound will have its volume eased by the distance from its origin.</p>
<p><strong>Notes:</strong></p>
<ul><li>Defaults to <code>true</code></li>
<li>Requires <code>At Location node</code> to be called as well, or the sound will still be global.</li></ul>
</fieldset>
{{/if}}

                    {{!-- AUDIO CHANNEL (sound child) --}}
                    {{#if (eq node.type "audioChannel")}}
                    <fieldset class="v-group">
                        <legend>Audio Channel</legend>
                        <p><code>.audioChannel(inString)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span><span style="color:#89ddff;">Audio Channel</span> (<span style="color:#ffcb6b;">music</span>) ///

<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Audio Channel</span> (<span style="color:#ffcb6b;">environment</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Audio Channel</span> (<span style="color:#ffcb6b;">interface</span>) ///
</code></pre>
<p>Set the sound output channel.</p>
<p><strong>Notes:</strong></p>
<ul><li>Defaults to <code>interface</code></li></ul>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Channel Name</strong></p>
<select data-config="audioChannel">
<option value="" {{#unless node.config.type}}selected{{/unless}}>-</option>
<option value="environment" {{#if (eq node.config.mode "environment" )}}selected{{/if}}>Environment
</option>
<option value="interface" {{#if (eq node.config.mode "interface" )}}selected{{/if}}>
Interface</option>
<option value="music" {{#if (eq node.config.mode "music" )}}selected{{/if}}>Music
</option>
</select>
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- ALWAYS FOR GMS (sound child) --}}
                    {{#if (eq node.type "alwaysForGMs")}}
                    <fieldset class="v-group">
                        <legend>Always For GMs</legend>
                        <p><code>.alwaysForGMs(inBool)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;">Always For GMs</span> (<span style="color:#ffcb6b;">true</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Always For GMs</span> (<span style="color:#ffcb6b;">false</span>) ///
</code></pre>
<p>Whether the sound will play for GMs as if they were hearing it at the origin of the sound.</p>
<p><strong>Notes:</strong></p>
<ul><li>Defaults to <code>false</code></li>
<li>Requires <code>At Location node</code> to be called as well, or the sound will still be global.</li></ul>
</fieldset>
{{/if}}

                    {{!-- BASE EFFECT (sound child) --}}
                    {{#if (eq node.type "baseEffect")}}
                    <fieldset class="v-group">
                        <legend>Base Effect</legend>
                        <p><code>.baseEffect(options)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span><span style="color:#89ddff;">Base Effect</span> (<span style="color:#ffcb6b;">{ type: 'lowpass', intensity: 4 }</span>) ///

</code></pre>
<p>An effect to be applied on the sound when it is heard as per normal, with no walls blocking the sound.</p>
<p>The options object this method accept can have the following two parameters:</p>
<ul><li><code>type</code>: one of the effects in <code>CONFIG.soundEffects</code>, as of Foundry V12, this is:<ul>
<li><code>lowpass</code></li>
<li><code>highpass</code></li>
<li><code>reverb</code></li>
</ul></li>
<li><code>intensity</code>: how strong this type of effect will be</li></ul>
<p><strong>Notes:</strong></p>
<ul><li>Requires <code>At Location node</code> to be called as well, as this is an effect only applicable to position-based sounds.</li></ul>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Type</strong></p>
<select data-config="type">
<option value="" {{#unless node.config.type}}selected{{/unless}}>-</option>
<option value="lowpass" {{#if (eq node.config.type "lowpass" )}}selected{{/if}}>
lowpass</option>
<option value="highpass" {{#if (eq node.config.type "highpass" )}}selected{{/if}}>
highpass</option>
<option value="reverb" {{#if (eq node.config.type "reverb" )}}selected{{/if}}>reverb
</option>
</select>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Intensity</strong></p>
<input type="number" data-config="intensity" data-type="number"
                            value="{{node.config.intensity}}">
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- MUFFLED EFFECT (sound child) --}}
                    {{#if (eq node.type "muffledEffect")}}
                    <fieldset class="v-group">
                        <legend>Muffled Effect</legend>
                        <p><code>.muffledEffect(options)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span><span style="color:#89ddff;">Muffled Effect</span> (<span style="color:#ffcb6b;">{ type: 'lowpass', intensity: 4 }</span>) ///

</code></pre>
<p>An effect to be applied on the sound when it is heard through walls.</p>
<p>The options object this method accept can have the following two parameters:</p>
<ul><li><code>type</code>: one of the effects in <code>CONFIG.soundEffects</code>, as of Foundry V12, this is:<ul>
<li><code>lowpass</code></li>
<li><code>highpass</code></li>
<li><code>reverb</code></li>
</ul></li>
<li><code>intensity</code>: how strong this type of effect will be</li></ul>
<p><strong>Notes:</strong></p>
<ul><li>Requires <code>At Location node</code> to be called as well, as this is an effect only applicable to position-based sounds.</li>
<li>Requires <code>Constrained By Walls node</code> to be set to <code>false</code>(wich is the default behavior).</li></ul>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Type</strong></p>
<select data-config="type">
<option value="" {{#unless node.config.type}}selected{{/unless}}>-</option>
<option value="lowpass" {{#if (eq node.config.type "lowpass" )}}selected{{/if}}>
lowpass</option>
<option value="highpass" {{#if (eq node.config.type "highpass" )}}selected{{/if}}>
highpass</option>
<option value="reverb" {{#if (eq node.config.type "reverb" )}}selected{{/if}}>reverb
</option>
</select>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Intensity</strong></p>
<input type="number" data-config="intensity" data-type="number"
                                    value="{{node.config.intensity}}">
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- DIRECTION (child) --}}
                    {{#if (eq node.type "direction")}}
                    <fieldset class="v-group">
                        <legend>Direction</legend>
                        <code>.direction(string|number)</code>
                        <p>Sets the direction the text’s movement.</p>
                        <p>You can either set this with Foundry’s native <code>CONST.TEXT_ANCHOR_POINTS</code>, or by giving it any of <code>CENTER</code>, <code>BOTTOM</code>, <code>TOP</code>, <code>LEFT</code>, or <code>RIGHT</code>.</p>
                        <hr>
                        <code>.direction(number)</code>
                        <p>Configures the direction degrees for the crosshair - mostly used for cone and ray crosshairs. This configures the starting direction of the crosshair.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Direction</strong></p>
                                <input type="text" data-config="direction" value="{{node.config.direction}}">

                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- JITTER (child) --}}
                    {{#if (eq node.type "scrollingTextJitter")}}
                    <fieldset class="v-group">
                        <legend>Jitter</legend>
                        <code>.jitter(number)</code>
                        <p>An amount of randomization between 0 and 1 applied to the initial position (also achieved with <code>At Location Node</code>‘s <code>Random Offset</code> property)</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Random Offset (0-1)</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="jitter" data-type="number"
                                    value="{{node.config.jitter}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CANVAS PAN LOCK VIEW (child) --}}
                    {{#if (eq node.type "canvasPanLockView")}}
                    <fieldset class="v-group">
                        <legend>Lock View</legend>
                        <p><code>.lockView(number)</code></p>
                        <p>Sets whether the view should be locked after moving, and for how long.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                                <input type="number" data-config="lockMs" data-type="number"
                                    value="{{node.config.lockMs}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CANVAS PAN SPEED (child) --}}
                    {{#if (eq node.type "canvasPanSpeed")}}
                    <fieldset class="v-group">
                        <legend>Speed</legend>
                        <p><code>.speed(number)</code></p>
                        <p>Sets how fast the canvas pan should move.</p>
                        <p><strong>Note:</strong> this overrides any <code>Duration Node</code> set duration.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Pixels per second</strong></p>
                                <input type="number" data-config="speed" data-type="number"
                                    value="{{node.config.speed}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CANVAS PAN SHAKE (child) --}}
                    {{#if (eq node.type "canvasPanShake")}}
                    <fieldset class="v-group">
                        <legend>Canvas Shake</legend>
                        <p><code>.shake()</code></p>
                        <p>Shakes the viewport.</p>
                        <p>This function takes an object, which can contain these properties:</p>

                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Duration (ms)</strong></p>
                                <p>(default <code>400</code>) - Number of milliseconds the shake should last.</p>
                                <input type="number" data-config="duration" data-type="number"
                                    value="{{node.config.duration}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Strength</strong></p>
                                <p>(default <code>10</code>) - Strength of the shake, which is how far the shake should move in pixels (nominal between 10-35)</p>
                                <input type="number" data-config="strength" data-type="number"
                                    value="{{node.config.strength}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Frequency (ms)</strong></p>
                                <p>(default <code>25</code>) - Number of milliseconds each iteration of the shake should last (lower means faster shakes).</p>
                                <input type="number" data-config="frequency" data-type="number"
                                    value="{{node.config.frequency}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Fade In (ms)</strong></p>
                                <p>(default <code>0</code>) - Number of milliseconds it will take for the shake to blend in</p>
                                <input type="number" data-config="fadeInDuration" data-type="number"
                                    value="{{node.config.fadeInDuration}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Fade Out (ms)</strong></p>
                                <p><(default <code>125</code>) - Number of milliseconds it will take for the shake to blend out</p>
                                <input type="number" data-config="fadeOutDuration" data-type="number"
                                    value="{{node.config.fadeOutDuration}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Enable Rotation Shake</strong>
                                <input type="checkbox" data-config="rotation" data-type="boolean" {{#if node.config.rotation}}checked{{/if}}><p>(default <code>true</code>) - Whether the shake should also rotate the viewport</p></p>
                            </label>
                            
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR NAME (child) --}}
                    {{#if (eq node.type "crosshairName")}}
                    <fieldset class="v-group">
                        <legend>Crosshair Name</legend>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Name</strong></p>
                                <input type="text" data-config="name" value="{{node.config.name}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR TYPE (child) --}}
                    {{#if (eq node.type "crosshairType")}}
                    <fieldset class="v-group">
                        <legend>Crosshair Type</legend>
                        <p><code>.type(string)</code></p>
                        <p>Sets the type of Measurable Template to create.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Type</strong></p>
                                <input type="text" data-config="type" value="{{node.config.type}}">
                                <select data-config="type">
                                    <option value="circle" {{#if (eq node.config.mode "circle"
                                        )}}selected{{/if}}>Circle</option>
                                    <option value="cone" {{#if (eq node.config.mode "cone"
                                        )}}selected{{/if}}>Cone</option>
                                    <option value="rect" {{#if (eq node.config.mode "rect" )}}selected{{/if}}>
                                        Rectangle</option>
                                    <option value="ray" {{#if (eq node.config.mode "ray"
                                        )}}selected{{/if}}>Ray</option>
                                </select>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR LABEL (child) --}}
                    {{#if (eq node.type "crosshairLabel")}}
                    <fieldset class="v-group">
                        <legend>Crosshair Label</legend>
                        <code>.label(string, object)</code>
                        <p>Sets a custom label to be set as a part of this crosshair</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Label</strong></p>
                                <input type="text" data-config="label" value="{{node.config.label}}">
                            </label>
                        </div>
                        <p>Also supports a second options object that accepts:</p>
                        <ul><li><code>dx: number</code> - Sets the x position offset of the label in pixels</li>
                        <li><code>dy: number</code> - Sets the y position offset of the label in pixels</li></ul>
                        <div class="v-field grid-2">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>dx</strong></p>
                                <input type="number" data-config="dx" data-type="number" value="{{node.config.dx}}">
                            </label>
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>dy)</strong></p>
                                <input type="number" data-config="dy" data-type="number" value="{{node.config.dy}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR SNAP POSITION (child) --}}
                    {{#if (eq node.type "crosshairSnapPosition")}}
                    <fieldset class="v-group">
                        <legend>Snap Position</legend>
                        <p><code>.snapPosition(number)</code></p>
                        <p>Sets how the position of the crosshair should snap on the grid. </p>
                        <p>Use <code>CONST.GRID_SNAPPING_MODES</code> to determine this, eg:</p>
                        <p><ul><li><code>.snapPosition(CONST.GRID_SNAPPING_MODES.CENTER)</code>
                        - snaps to the center of each grid square/hex</li>
                        <li><code>.snapPosition(CONST.GRID_SNAPPING_MODES.CENTER |</code><code>CONST.GRID_SNAPPING_MODES.VERTEX)</code>
                        - snaps to the center and each vertex (intersections) of each grid square/hex</li></ul></p>
                        <p>It is specifically one <code>|</code> and not two - this is a bitwise operation, which is a fancy way that maths works for computers. Google bitwise operations if you want to understand it at length.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode / Value</strong></p>
                                <input type="text" data-config="snapPosition" value="{{node.config.snapPosition}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR DISTANCE (child) --}}
                    {{#if (eq node.type "crosshairDistance")}}
                    <fieldset class="v-group">
                        <legend>Distance</legend>
                        <p><code>.distance(number, object)</code></p>
                        <p>Sets the distance for the crosshair - or radius for a circular crosshair</p>
                        <p>Also supports a second options object that accepts:</p>
                        <ul><li><code>min: number</code> - Caps the crosshair’s distance above this minimum value, which it cannot go below</li>
                        <li><code>max: number</code> - Caps the crosshair’s distance to this maximum value, which it cannot exceed</li></ul>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Distance</strong></p>
                                <input type="number" data-config="distance" data-type="number"
                                    value="{{node.config.distance}}">
                            </label>
                        </div>
                        <div class="v-field grid-2">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Minimum Distance</strong></p>
                                <input type="number" data-config="min" data-type="number" value="{{node.config.min}}">
                            </label>
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>MAximum Distance)</strong></p>
                                <input type="number" data-config="max" data-type="number" value="{{node.config.max}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR ANGLE (child) --}}
                    {{#if (eq node.type "crosshairAngle")}}
                    <fieldset class="v-group">
                        <legend>Angle</legend>
                        <p><code>.angle(number)</code></p>
                        <p>Configures the angle of the crosshair - mostly used for the width of cone crosshairs</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Angle (º)</strong></p>
                                <input type="number" data-config="angle" data-type="number"
                                    value="{{node.config.angle}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR WIDTH (child) --}}
                    {{#if (eq node.type "crosshairWidth")}}
                    <fieldset class="v-group">
                        <legend>Width</legend>
                        <p><code>.width(number)</code></p>
                        <p>Configures the width for the crosshair - used for ray crosshairs</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Width</strong></p>
                                <input type="number" data-config="width" data-type="number"
                                    value="{{node.config.width}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR SNAP DIRECTION (child) --}}
                    {{#if (eq node.type "crosshairSnapDirection")}}
                    <fieldset class="v-group">
                        <legend>Snap Direction</legend>
                        <p><code>.snapDirection(number)</code></p>
                        <p>Configures the increments the direction should snap along. <code>45</code> would make it only snap in diagonal, horizontal, and vertical directions.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Increment (º)</strong></p>
                                <input type="number" data-config="snapDirection" data-type="number"
                                    value="{{node.config.snapDirection}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR LOCK MANUAL ROTATION (child) --}}
                    {{#if (eq node.type "crosshairLockManualRotation")}}
                    <fieldset class="v-group">
                        <legend>Manual Rotation</legend>
                        <p><code>.lockManualRotation(boolean)</code></p>
                        <p>Toggles whether the crosshair can be manually rotated</p>
                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Lock manual rotation</strong></p>
                                <input type="checkbox" data-config="lock" data-type="boolean" {{#if
                                    node.config.lock}}checked{{/if}}>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR LOCK DRAG (child) --}}
                    {{#if (eq node.type "crosshairLockDrag")}}
                    <fieldset class="v-group">
                        <legend>Lock Drag</legend>
                        <p><code>.lockDrag(boolean)</code></p>
                        <p>Toggles whether the crosshair’s end position can be dragged</p>
                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Prevent drag movement</strong></p>
                                <input type="checkbox" data-config="lock" data-type="boolean" {{#if
                                    node.config.lock}}checked{{/if}}>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR ICON (child) --}}
                    {{#if (eq node.type "crosshairIcon")}}
                    <fieldset class="v-group">
                        <legend>Icon</legend>
                        <p><code>.icon(string, inOptions)</code></p>
                        <p>Configures the custom icon to be used on the crosshair</p>
                        <p>Also supports a second options object that accepts:</p>
                        <ul><li><code>borderVisible: boolean</code> - Causes the border of the icon to be visible</li></ul>
                        <div class="v-field">
                            <label>Icon path
                                <input type="text" data-config="icon" value="{{node.config.icon}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label>
                                <p style="display:flex;align-items:center;gap:0.5rem;"><strong>Show icon border</strong>
                                <input type="checkbox" data-config="borderVisible" data-type="boolean" {{#if
                                    node.config.borderVisible}}checked{{/if}}></p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR BORDER COLOR (child) --}}
                    {{#if (eq node.type "crosshairBorderColor")}}
                    <fieldset class="v-group">
                        <legend>Border Color</legend>
                        <p><code>.borderColor(HEX | number, inOptions)</code></p>
                        <p>Sets the border color of the crosshair</p>
                        <p>Also supports a second options object that accepts:</p>
                        <ul><li><code>alpha: number</code> - The transparency of the border (0-1, default <code>0.5</code>)</li></ul>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Color</strong></p>
                                <input type="text" data-config="color" value="{{node.config.color}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Alpha</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="alpha" data-type="number"
                                    value="{{node.config.alpha}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR FILL COLOR (child) --}}
                    {{#if (eq node.type "crosshairFillColor")}}
                    <fieldset class="v-group">
                        <legend>Fill Color</legend>
                        <p><code>.fillColor(HEX | number, inOptions)</code></p>
                        <p>Sets the fill color of the crosshair</p>
                        <p>Also supports a second options object that accepts:</p>
                        <ul><li><code>alpha: number</code> - The transparency of the fill color (0-1, default <code>0.25</code>)</li></ul>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Color</strong></p>
                                <input type="text" data-config="color" value="{{node.config.color}}">
                            </label>
                        </div>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Alpha</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="alpha" data-type="number"
                                    value="{{node.config.alpha}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR TEXTURE (child) --}}
                    {{#if (eq node.type "crosshairTexture")}}
                    <fieldset class="v-group">
                        <legend>Texture</legend>
                        <p><code>.texture(string, inOptions)</code></p>
                        <p>Configures the texture shown within the template</p>
                        <p>Also supports a second options object that accepts:</p>
                        <ul><li><code>alpha: number</code> - The transparency of the texture (0-1, default <code>0.5</code>)</li>
                        <li><code>scale: number</code> - The scale multiplier for the texture size (default <code>1</code>)</li></ul>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Texture Path</strong></p>
                                <input type="text" data-config="texture" value="{{node.config.texture}}">
                            </label>
                        </div>
                        <div class="v-field grid-2">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Alpha</strong></p>
                                <input type="number" step="0.05" min="0" max="1" data-config="alpha" data-type="number"
                                    value="{{node.config.alpha}}">
                            </label>
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Scale</strong></p>
                                <input type="number" step="0.1" data-config="scale" data-type="number"
                                    value="{{node.config.scale}}">
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR LOCATION (child) --}}
                    {{#if (eq node.type "crosshairLocation")}}
                    <fieldset class="v-group">
                        <legend>Crosshair Location</legend>
                        <p><code>.location(object|string, object)</code></p>
                        <p>Examples:</p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js"><span style="color:#f07178;"> → </span>

<span style="color:#89ddff;">Crosshair Location</span> (<span style="color:#ffcb6b;">token</span>)///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Crosshair Location</span> (<span style="color:#ffcb6b;">token</span>, <span style="#ffcb6b">Show Range: true</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Crosshair Location</span> (<span style="color:#ffcb6b;">token</span>, <span style="#ffcb6b">Lock to Edge: true</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Crosshair Location</span> (<span style="color:#ffcb6b;">token</span>, <span style="#ffcb6b">Lock to Edge: true</span>, <span style="#ffcb6b">Lock to Edge Direction: true</span>) ///
<span style="color:#f07178;"> → </span><span style="color:#89ddff;">Crosshair Location</span> (<span style="color:#ffcb6b;">token</span>, <span style="#ffcb6b">Limit Max Range: 20</span>) ///
</code></pre>
<p>Configures the source location of the crosshair, usually to limit it around the target placeable object, or to
cause it to be limited within a certain range of the placeable object.</p>
<p>Also supports a second options object that accepts:</p>
<ul><li><code>limitMinRange: number</code> - Causes the crosshair to not be able to be placed within this number of grid units of the location
<code>limitMaxRange: number</code> - Causes the crosshair to not be able to be placed beyond this number of grid units of the location</li>
<li><code>showRange: boolean</code> - Displays the distance between the crosshair and the location in grid units under the crosshair</li>
<li><code>lockToEdge: boolean</code> - Whether to lock the crosshair to the edge of the target (mostly used with tokens)</li>
<li><code>lockToEdgeDirection: boolean</code> - Causes the crosshair to be locked along the normal of the token’s edge (and corner, in the case of square tokens)</li>
<li><code>offset: object</code> - (default <code>{ x: 0, y: 0 }</code>) - causes the location to be offset by this many pixels,</li>
<li><code>wallBehavior: string</code> - Causes the crosshair to be unable to be placed based on this configuration, eg only within sight, or no walls at all between crosshair and location, or anywhere. See <code>Sequencer.Crosshair.PLACEMENT_RESTRICTIONS</code></li><li><code>displayRangePoly: boolean</code> - Causes a polygon to be rendered below the object that shows the limit based on the limitMaxRange set above - this requires both that, and obj to have a position</li><li><code>rangePolyFillColor: number</code> - The fill color of the range polygon</li><li><code>rangePolyLineColor: number</code> - The line color of the range polygon</li><li><code>rangePolyFillAlpha: number</code> - The fill alpha of the range polygon</li>
<li><code>rangePolyLineAlpha: number</code> - The line alpha of the range polygon</li></ul>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Mode</strong></p>
<select data-config="mode">
<option value="selected-token" {{#if (eq node.config.mode "selected-token"
                                        )}}selected{{/if}}>Token selected</option>
<option value="selected-target" {{#if (eq node.config.mode "selected-target"
                                        )}}selected{{/if}}>Objetive selected</option>
<option value="token-id" {{#if (eq node.config.mode "token-id" )}}selected{{/if}}>
Token by ID</option>
<option value="token-name" {{#if (eq node.config.mode "token-name"
                                        )}}selected{{/if}}>Token by name</option>
<option value="tile-id" {{#if (eq node.config.mode "tile-id" )}}selected{{/if}}>Tile
by ID</option>
<option value="stored-name" {{#if (eq node.config.mode "stored-name"
                                        )}}selected{{/if}}>Stored name</option>
<option value="point" {{#if (eq node.config.mode "point" )}}selected{{/if}}>
Coordinates</option>
</select>
</label>
</div>
<div class="v-field">
<label>
<p style="display:flex;align-items:center;gap:0.5rem;"><strong>Stored name</strong></p>
<input type="text" data-config="storedName" value="{{node.config.storedName}}">
</label>
</div>
<div class="v-field grid-2">
<label>
<p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token ID</strong></p>
<input type="text" data-config="tokenId" value="{{node.config.tokenId}}">
</label>
<label>
<p style="display:flex;align-items:center;gap:0.5rem;"><strong>Token Name</strong></p>
<input type="text" data-config="tokenName" value="{{node.config.tokenName}}">
</label>
</div>
<div class="v-field">
<label>
<p style="display:flex;align-items:center;gap:0.5rem;"><strong>Tile ID</strong></p>
<input type="text" data-config="tileId" value="{{node.config.tileId}}">
</label>
</div>
<div class="v-field grid-2">
<label>
<p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinates (X)</strong></p>
<input type="number" data-config="x" data-type="number" value="{{node.config.x}}">
</label>
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Coordinates (Y)</strong>
<input type="number" data-config="y" data-type="number" value="{{node.config.y}}"></p>
</label>
</div>
<div class="v-field grid-2">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Minimum Range</strong>
<input type="number" data-config="limitMinRange" data-type="number"
                                    value="{{node.config.limitMinRange}}"></p>
</label>
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Maximum Range</strong>
<input type="number" data-config="limitMaxRange" data-type="number"
                                    value="{{node.config.limitMaxRange}}"></p>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Show Range in HUD</strong>
<input type="checkbox" data-config="showRange" data-type="boolean" {{#if
                                    node.config.showRange}}checked{{/if}}></p>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Block to the objective border</strong>
<input type="checkbox" data-config="lockToEdge" data-type="boolean" {{#if
                                    node.config.lockToEdge}}checked{{/if}}></p>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Use border normal</strong>
<input type="checkbox" data-config="lockToEdgeDirection" data-type="boolean" {{#if
                                    node.config.lockToEdgeDirection}}checked{{/if}}></p>
</label>
</div>
<div class="v-field grid-2">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset X</strong>
<input type="number" data-config="offsetX" data-type="number"
                                    value="{{node.config.offsetX}}"></p>
</label>
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Offset Y</strong>
<input type="number" data-config="offsetY" data-type="number"
                                    value="{{node.config.offsetY}}"></p>
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Wall behavior</strong>
<input type="text" data-config="wallBehavior" value="{{node.config.wallBehavior}}"></p>
</label></div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Show range polygon</strong>
<input type="checkbox" data-config="displayRangePoly" data-type="boolean" {{#if
                                    node.config.displayRangePoly}}checked{{/if}}></p>
</label>
</div>
<div class="v-field grid-2">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Fill color</strong>
<input type="text" data-config="rangePolyFillColor"
                                    value="{{node.config.rangePolyFillColor}}"></p>
</label>
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Border color</strong>
<input type="text" data-config="rangePolyLineColor"
                                    value="{{node.config.rangePolyLineColor}}"></p>
</label>
</div>
<div class="v-field grid-2">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>FIll alpha</strong>
<input type="number" step="0.05" min="0" max="1" data-config="rangePolyFillAlpha"
                                    data-type="number" value="{{node.config.rangePolyFillAlpha}}"></p>
</label>
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Border alpha</strong>
<input type="number" step="0.05" min="0" max="1" data-config="rangePolyLineAlpha"
                                    data-type="number" value="{{node.config.rangePolyLineAlpha}}"></p>
</label>
</div>
</fieldset>
{{/if}}

                    {{!-- CROSSHAIR GRID HIGHLIGHT (child) --}}
                    {{#if (eq node.type "crosshairGridHighlight")}}
                    <fieldset class="v-group">
                        <legend>Grid Highlight</legend>
                        <p><code>.gridHighlight(boolean)</code></p>
                        <p>Toggles whether this crosshair should highlight the grid.</p>
                        <div class="v-field">
                            <label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Highlight grid</strong>
                                <input type="checkbox" data-config="highlight" data-type="boolean" {{#if node.config.highlight}}checked{{/if}}></p>
                            </label>
                        </div>
                    </fieldset>
                    {{/if}}

                    {{!-- CROSSHAIR CALLBACK (child) --}}
                    {{#if (eq node.type "crosshairCallback")}}
                    <fieldset class="v-group">
                        <legend>Crosshair Callback</legend>
                        <p><code>.callback(inString, inFunction)</code></p>
                        <pre v-pre="" data-lang="js" class="language-js"><code class="lang-js language-js">

<span style="color:#89ddff;">Start / Sequence</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Crosshair</span><span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Crosshair Callback</span> (<span style="color:#ffcb6b;">"myHook"</span>, <span style="color:#ffcb6b;">(crosshair) =&gt; {</span>
<span style="color:#ff9cac;">// Your code here, using the crosshair object</span>
<span style="color:#ffcb6b;">}</span>)<span style="color:#f07178;"> → </span>
<span style="color:#89ddff;">Play</span><span style="color:#f07178;"> → </span>
</code></pre>
<p>This allows you to run functions when certain events happens with the crosshair, such as changing the icon. Most functions are passed the crosshair object.</p>
<p>This requires the use of <code>Sequencer.Crosshair.CALLBACKS</code> as the first parameter.</p>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Hook constant / Expression</strong></p>
<input type="text" data-config="hook" value="{{node.config.hook}}">
</label>
</div>
<div class="v-field">
<label><p style="display:flex;align-items:center;gap:0.5rem;"><strong>Callback Body</strong></p>
<textarea data-config="body" rows="4">{{node.config.body}}</textarea>
</label>
</div>
</fieldset>
{{/if}}

                </div>
            </div>
            {{/each}}
    </section>

</div>
